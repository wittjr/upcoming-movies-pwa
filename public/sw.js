!function(){var e={484:function(e){var t;t=function(){"use strict";var e="millisecond",t="second",s="minute",a="hour",r="week",i="month",n="quarter",o="year",c="date",l="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(e,t,s){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(s)+e},f="en",g={};g[f]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],s=e%100;return"["+e+(t[(s-20)%10]||t[s]||"th")+"]"}};var p=function(e){return e instanceof v},y=function e(t,s,a){var r;if(!t)return f;if("string"==typeof t){var i=t.toLowerCase();g[i]&&(r=i),s&&(g[i]=s,r=i);var n=t.split("-");if(!r&&n.length>1)return e(n[0])}else{var o=t.name;g[o]=t,r=o}return!a&&r&&(f=r),r||!a&&f},m=function(e,t){if(p(e))return e.clone();var s="object"==typeof t?t:{};return s.date=e,s.args=arguments,new v(s)},w={s:d,z:function(e){var t=-e.utcOffset(),s=Math.abs(t);return(t<=0?"+":"-")+d(Math.floor(s/60),2,"0")+":"+d(s%60,2,"0")},m:function e(t,s){if(t.date()<s.date())return-e(s,t);var a=12*(s.year()-t.year())+(s.month()-t.month()),r=t.clone().add(a,i),n=s-r<0,o=t.clone().add(a+(n?-1:1),i);return+(-(a+(s-r)/(n?r-o:o-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return({M:i,y:o,w:r,d:"day",D:c,h:a,m:s,s:t,ms:e,Q:n})[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};w.l=y,w.i=p,w.w=function(e,t){return m(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var v=function(){function d(e){this.$L=y(e.locale,null,!0),this.parse(e)}var f=d.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,s=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(u);if(a){var r=a[2]-1||0,i=(a[7]||"0").substring(0,3);return s?new Date(Date.UTC(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)):new Date(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return w},f.isValid=function(){return this.$d.toString()!==l},f.isSame=function(e,t){var s=m(e);return this.startOf(t)<=s&&s<=this.endOf(t)},f.isAfter=function(e,t){return m(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<m(e)},f.$g=function(e,t,s){return w.u(e)?this[t]:this.set(s,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,n){var l=this,u=!!w.u(n)||n,h=w.p(e),d=function(e,t){var s=w.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return u?s:s.endOf("day")},f=function(e,t){return w.w(l.toDate()[e].apply(l.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},g=this.$W,p=this.$M,y=this.$D,m="set"+(this.$u?"UTC":"");switch(h){case o:return u?d(1,0):d(31,11);case i:return u?d(1,p):d(0,p+1);case r:var v=this.$locale().weekStart||0,b=(g<v?g+7:g)-v;return d(u?y-b:y+(6-b),p);case"day":case c:return f(m+"Hours",0);case a:return f(m+"Minutes",1);case s:return f(m+"Seconds",2);case t:return f(m+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(r,n){var l,u=w.p(r),h="set"+(this.$u?"UTC":""),d=((l={}).day=h+"Date",l[c]=h+"Date",l[i]=h+"Month",l[o]=h+"FullYear",l[a]=h+"Hours",l[s]=h+"Minutes",l[t]=h+"Seconds",l[e]=h+"Milliseconds",l)[u],f="day"===u?this.$D+(n-this.$W):n;if(u===i||u===o){var g=this.clone().set(c,1);g.$d[d](f),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else d&&this.$d[d](f);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[w.p(e)]()},f.add=function(e,n){var c,l=this;e=Number(e);var u=w.p(n),h=function(t){var s=m(l);return w.w(s.date(s.date()+Math.round(t*e)),l)};if(u===i)return this.set(i,this.$M+e);if(u===o)return this.set(o,this.$y+e);if("day"===u)return h(1);if(u===r)return h(7);var d=((c={})[s]=6e4,c[a]=36e5,c[t]=1e3,c)[u]||1,f=this.$d.getTime()+e*d;return w.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this,s=this.$locale();if(!this.isValid())return s.invalidDate||l;var a=e||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$H,n=this.$m,o=this.$M,c=s.weekdays,u=s.months,d=s.meridiem,f=function(e,s,r,i){return e&&(e[s]||e(t,a))||r[s].slice(0,i)},g=function(e){return w.s(i%12||12,e,"0")},p=d||function(e,t,s){var a=e<12?"AM":"PM";return s?a.toLowerCase():a};return a.replace(h,function(e,a){return a||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return w.s(t.$y,4,"0");case"M":return o+1;case"MM":return w.s(o+1,2,"0");case"MMM":return f(s.monthsShort,o,u,3);case"MMMM":return f(u,o);case"D":return t.$D;case"DD":return w.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return f(s.weekdaysMin,t.$W,c,2);case"ddd":return f(s.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(i);case"HH":return w.s(i,2,"0");case"h":return g(1);case"hh":return g(2);case"a":return p(i,n,!0);case"A":return p(i,n,!1);case"m":return String(n);case"mm":return w.s(n,2,"0");case"s":return String(t.$s);case"ss":return w.s(t.$s,2,"0");case"SSS":return w.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")})},f.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},f.diff=function(e,c,l){var u,h=this,d=w.p(c),f=m(e),g=(f.utcOffset()-this.utcOffset())*6e4,p=this-f,y=function(){return w.m(h,f)};switch(d){case o:u=y()/12;break;case i:u=y();break;case n:u=y()/3;break;case r:u=(p-g)/6048e5;break;case"day":u=(p-g)/864e5;break;case a:u=p/36e5;break;case s:u=p/6e4;break;case t:u=p/1e3;break;default:u=p}return l?u:w.a(u)},f.daysInMonth=function(){return this.endOf(i).$D},f.$locale=function(){return g[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var s=this.clone(),a=y(e,t,!0);return a&&(s.$L=a),s},f.clone=function(){return w.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},d}(),b=v.prototype;return m.prototype=b,[["$ms",e],["$s",t],["$m",s],["$H",a],["$W","day"],["$M",i],["$y",o],["$D",c]].forEach(function(e){b[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),m.extend=function(e,t){return e.$i||(e(t,v,m),e.$i=!0),m},m.locale=y,m.isDayjs=p,m.unix=function(e){return m(1e3*e)},m.en=g[f],m.Ls=g,m.p={},m},e.exports=t()},272:function(){"use strict";try{self["workbox:background-sync:6.5.3"]&&_()}catch(e){}},895:function(){"use strict";try{self["workbox:cacheable-response:6.5.3"]&&_()}catch(e){}},913:function(){"use strict";try{self["workbox:core:6.5.3"]&&_()}catch(e){}},550:function(){"use strict";try{self["workbox:expiration:6.5.3"]&&_()}catch(e){}},977:function(){"use strict";try{self["workbox:precaching:6.5.3"]&&_()}catch(e){}},80:function(){"use strict";try{self["workbox:routing:6.5.3"]&&_()}catch(e){}},873:function(){"use strict";try{self["workbox:strategies:6.5.3"]&&_()}catch(e){}}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}},n=!0;try{e[a].call(i.exports,i,i.exports,s),n=!1}finally{n&&delete t[a]}return i.exports}!function(){"use strict";var e,t,a;let r,i,n,o,c,l,u;s(913);let h=(e,...t)=>{let s=e;return t.length>0&&(s+=` :: ${JSON.stringify(t)}`),s};class d extends Error{constructor(e,t){super(h(e,t)),this.name=e,this.details=t}}let f=new Set,g={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:"undefined"!=typeof registration?registration.scope:""},p=e=>[g.prefix,e,g.suffix].filter(e=>e&&e.length>0).join("-"),y=e=>e||p(g.precache),m=e=>e||p(g.runtime);function w(e,t){let s=new URL(e);for(let e of t)s.searchParams.delete(e);return s.href}async function v(e,t,s,a){let r=w(t.url,s);if(t.url===r)return e.match(t,a);let i=Object.assign(Object.assign({},a),{ignoreSearch:!0});for(let n of(await e.keys(t,i)))if(r===w(n.url,s))return e.match(n,a)}function b(e){e.then(()=>{})}class S{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}async function D(){for(let e of f)await e()}let x=e=>new URL(String(e),location.href).href.replace(RegExp(`^${location.origin}`),"");function E(e){return new Promise(t=>setTimeout(t,e))}function R(e,t){let s=t();return e.waitUntil(s),s}async function q(e,t){let s=null;if(e.url&&(s=new URL(e.url).origin),s!==self.location.origin)throw new d("cross-origin-copy-response",{origin:s});let a=e.clone(),i={headers:new Headers(a.headers),status:a.status,statusText:a.statusText},n=t?t(i):i,o=!function(){if(void 0===r){let e=new Response("");if("body"in e)try{new Response(e.body),r=!0}catch(e){r=!1}r=!1}return r}()?await a.blob():a.body;return new Response(o,n)}let k=(e,t)=>t.some(t=>e instanceof t),M=new WeakMap,T=new WeakMap,C=new WeakMap,$=new WeakMap,I=new WeakMap,N={get(e,t,s){if(e instanceof IDBTransaction){if("done"===t)return T.get(e);if("objectStoreNames"===t)return e.objectStoreNames||C.get(e);if("store"===t)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return O(e[t])},set:(e,t,s)=>(e[t]=s,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function O(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,s)=>{let a=()=>{e.removeEventListener("success",r),e.removeEventListener("error",i)},r=()=>{t(O(e.result)),a()},i=()=>{s(e.error),a()};e.addEventListener("success",r),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&M.set(t,e)}).catch(()=>{}),I.set(t,e),t}(e);if($.has(e))return $.get(e);let s="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(n||(n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(A(this),e),O(M.get(this))}:function(...e){return O(t.apply(A(this),e))}:function(e,...s){let a=t.call(A(this),e,...s);return C.set(a,e.sort?e.sort():[e]),O(a)}:(t instanceof IDBTransaction&&function(e){if(T.has(e))return;let t=new Promise((t,s)=>{let a=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",i),e.removeEventListener("abort",i)},r=()=>{t(),a()},i=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",r),e.addEventListener("error",i),e.addEventListener("abort",i)});T.set(e,t)}(t),k(t,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,N):t;return s!==e&&($.set(e,s),I.set(s,e)),s}let A=e=>I.get(e);function L(e,t,{blocked:s,upgrade:a,blocking:r,terminated:i}={}){let n=indexedDB.open(e,t),o=O(n);return a&&n.addEventListener("upgradeneeded",e=>{a(O(n.result),e.oldVersion,e.newVersion,O(n.transaction),e)}),s&&n.addEventListener("blocked",e=>s(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}let j=["get","getKey","getAll","getAllKeys","count"],U=["put","add","delete","clear"],P=new Map;function W(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(P.get(t))return P.get(t);let s=t.replace(/FromIndex$/,""),a=t!==s,r=U.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(r||j.includes(s)))return;let i=async function(e,...t){let i=this.transaction(e,r?"readwrite":"readonly"),n=i.store;return a&&(n=n.index(t.shift())),(await Promise.all([n[s](...t),r&&i.done]))[0]};return P.set(t,i),i}N={...l=N,get:(e,t,s)=>W(e,t)||l.get(e,t,s),has:(e,t)=>!!W(e,t)||l.has(e,t)},s(550);let B="cache-entries",K=e=>{let t=new URL(e,location.href);return t.hash="",t.href};class F{constructor(e){this._db=null,this._cacheName=e}_upgradeDb(e){let t=e.createObjectStore(B,{keyPath:"id"});t.createIndex("cacheName","cacheName",{unique:!1}),t.createIndex("timestamp","timestamp",{unique:!1})}_upgradeDbAndDeleteOldDbs(e){this._upgradeDb(e),this._cacheName&&function(e,{blocked:t}={}){let s=indexedDB.deleteDatabase(e);t&&s.addEventListener("blocked",e=>t(e.oldVersion,e)),O(s).then(()=>void 0)}(this._cacheName)}async setTimestamp(e,t){let s={url:e=K(e),timestamp:t,cacheName:this._cacheName,id:this._getId(e)},a=(await this.getDb()).transaction(B,"readwrite",{durability:"relaxed"});await a.store.put(s),await a.done}async getTimestamp(e){let t=await this.getDb(),s=await t.get(B,this._getId(e));return null==s?void 0:s.timestamp}async expireEntries(e,t){let s=await this.getDb(),a=await s.transaction(B).store.index("timestamp").openCursor(null,"prev"),r=[],i=0;for(;a;){let s=a.value;s.cacheName===this._cacheName&&(e&&s.timestamp<e||t&&i>=t?r.push(a.value):i++),a=await a.continue()}let n=[];for(let e of r)await s.delete(B,e.id),n.push(e.url);return n}_getId(e){return this._cacheName+"|"+K(e)}async getDb(){return this._db||(this._db=await L("workbox-expiration",1,{upgrade:this._upgradeDbAndDeleteOldDbs.bind(this)})),this._db}}class H{constructor(e,t={}){this._isRunning=!1,this._rerunRequested=!1,this._maxEntries=t.maxEntries,this._maxAgeSeconds=t.maxAgeSeconds,this._matchOptions=t.matchOptions,this._cacheName=e,this._timestampModel=new F(e)}async expireEntries(){if(this._isRunning){this._rerunRequested=!0;return}this._isRunning=!0;let e=this._maxAgeSeconds?Date.now()-1e3*this._maxAgeSeconds:0,t=await this._timestampModel.expireEntries(e,this._maxEntries),s=await self.caches.open(this._cacheName);for(let e of t)await s.delete(e,this._matchOptions);this._isRunning=!1,this._rerunRequested&&(this._rerunRequested=!1,b(this.expireEntries()))}async updateTimestamp(e){await this._timestampModel.setTimestamp(e,Date.now())}async isURLExpired(e){if(!this._maxAgeSeconds)return!1;{let t=await this._timestampModel.getTimestamp(e),s=Date.now()-1e3*this._maxAgeSeconds;return void 0===t||t<s}}async delete(){this._rerunRequested=!1,await this._timestampModel.expireEntries(1/0)}}class Q{constructor(e={}){if(this.cachedResponseWillBeUsed=async({event:e,request:t,cacheName:s,cachedResponse:a})=>{if(!a)return null;let r=this._isResponseDateFresh(a),i=this._getCacheExpiration(s);b(i.expireEntries());let n=i.updateTimestamp(t.url);if(e)try{e.waitUntil(n)}catch(e){}return r?a:null},this.cacheDidUpdate=async({cacheName:e,request:t})=>{let s=this._getCacheExpiration(e);await s.updateTimestamp(t.url),await s.expireEntries()},this._config=e,this._maxAgeSeconds=e.maxAgeSeconds,this._cacheExpirations=new Map,e.purgeOnQuotaError){var t;t=()=>this.deleteCacheAndMetadata(),f.add(t)}}_getCacheExpiration(e){if(e===m())throw new d("expire-custom-caches-only");let t=this._cacheExpirations.get(e);return t||(t=new H(e,this._config),this._cacheExpirations.set(e,t)),t}_isResponseDateFresh(e){if(!this._maxAgeSeconds)return!0;let t=this._getDateHeaderTimestamp(e);return null===t||t>=Date.now()-1e3*this._maxAgeSeconds}_getDateHeaderTimestamp(e){if(!e.headers.has("date"))return null;let t=new Date(e.headers.get("date")).getTime();return isNaN(t)?null:t}async deleteCacheAndMetadata(){for(let[e,t]of this._cacheExpirations)await self.caches.delete(e),await t.delete();this._cacheExpirations=new Map}}function Y(e){return"string"==typeof e?new Request(e):e}s(873);class G{constructor(e,t){for(let s of(this._cacheKeys={},Object.assign(this,t),this.event=t.event,this._strategy=e,this._handlerDeferred=new S,this._extendLifetimePromises=[],this._plugins=[...e.plugins],this._pluginStateMap=new Map,this._plugins))this._pluginStateMap.set(s,{});this.event.waitUntil(this._handlerDeferred.promise)}async fetch(e){let{event:t}=this,s=Y(e);if("navigate"===s.mode&&t instanceof FetchEvent&&t.preloadResponse){let e=await t.preloadResponse;if(e)return e}let a=this.hasCallback("fetchDidFail")?s.clone():null;try{for(let e of this.iterateCallbacks("requestWillFetch"))s=await e({request:s.clone(),event:t})}catch(e){if(e instanceof Error)throw new d("plugin-error-request-will-fetch",{thrownErrorMessage:e.message})}let r=s.clone();try{let e;for(let a of(e=await fetch(s,"navigate"===s.mode?void 0:this._strategy.fetchOptions),this.iterateCallbacks("fetchDidSucceed")))e=await a({event:t,request:r,response:e});return e}catch(e){throw a&&await this.runCallbacks("fetchDidFail",{error:e,event:t,originalRequest:a.clone(),request:r.clone()}),e}}async fetchAndCachePut(e){let t=await this.fetch(e),s=t.clone();return this.waitUntil(this.cachePut(e,s)),t}async cacheMatch(e){let t;let s=Y(e),{cacheName:a,matchOptions:r}=this._strategy,i=await this.getCacheKey(s,"read"),n=Object.assign(Object.assign({},r),{cacheName:a});for(let e of(t=await caches.match(i,n),this.iterateCallbacks("cachedResponseWillBeUsed")))t=await e({cacheName:a,matchOptions:r,cachedResponse:t,request:i,event:this.event})||void 0;return t}async cachePut(e,t){let s=Y(e);await E(0);let a=await this.getCacheKey(s,"write");if(!t)throw new d("cache-put-with-no-response",{url:x(a.url)});let r=await this._ensureResponseSafeToCache(t);if(!r)return!1;let{cacheName:i,matchOptions:n}=this._strategy,o=await self.caches.open(i),c=this.hasCallback("cacheDidUpdate"),l=c?await v(o,a.clone(),["__WB_REVISION__"],n):null;try{await o.put(a,c?r.clone():r)}catch(e){if(e instanceof Error)throw"QuotaExceededError"===e.name&&await D(),e}for(let e of this.iterateCallbacks("cacheDidUpdate"))await e({cacheName:i,oldResponse:l,newResponse:r.clone(),request:a,event:this.event});return!0}async getCacheKey(e,t){let s=`${e.url} | ${t}`;if(!this._cacheKeys[s]){let a=e;for(let e of this.iterateCallbacks("cacheKeyWillBeUsed"))a=Y(await e({mode:t,request:a,event:this.event,params:this.params}));this._cacheKeys[s]=a}return this._cacheKeys[s]}hasCallback(e){for(let t of this._strategy.plugins)if(e in t)return!0;return!1}async runCallbacks(e,t){for(let s of this.iterateCallbacks(e))await s(t)}*iterateCallbacks(e){for(let t of this._strategy.plugins)if("function"==typeof t[e]){let s=this._pluginStateMap.get(t),a=a=>{let r=Object.assign(Object.assign({},a),{state:s});return t[e](r)};yield a}}waitUntil(e){return this._extendLifetimePromises.push(e),e}async doneWaiting(){let e;for(;e=this._extendLifetimePromises.shift();)await e}destroy(){this._handlerDeferred.resolve(null)}async _ensureResponseSafeToCache(e){let t=e,s=!1;for(let e of this.iterateCallbacks("cacheWillUpdate"))if(t=await e({request:this.request,response:t,event:this.event})||void 0,s=!0,!t)break;return!s&&t&&200!==t.status&&(t=void 0),t}}class V{constructor(e={}){this.cacheName=m(e.cacheName),this.plugins=e.plugins||[],this.fetchOptions=e.fetchOptions,this.matchOptions=e.matchOptions}handle(e){let[t]=this.handleAll(e);return t}handleAll(e){e instanceof FetchEvent&&(e={event:e,request:e.request});let t=e.event,s="string"==typeof e.request?new Request(e.request):e.request,a=new G(this,{event:t,request:s,params:"params"in e?e.params:void 0}),r=this._getResponse(a,s,t),i=this._awaitComplete(r,a,s,t);return[r,i]}async _getResponse(e,t,s){let a;await e.runCallbacks("handlerWillStart",{event:s,request:t});try{if(!(a=await this._handle(t,e))||"error"===a.type)throw new d("no-response",{url:t.url})}catch(r){if(r instanceof Error){for(let i of e.iterateCallbacks("handlerDidError"))if(a=await i({error:r,event:s,request:t}))break}if(a);else throw r}for(let r of e.iterateCallbacks("handlerWillRespond"))a=await r({event:s,request:t,response:a});return a}async _awaitComplete(e,t,s,a){let r,i;try{r=await e}catch(e){}try{await t.runCallbacks("handlerDidRespond",{event:a,request:s,response:r}),await t.doneWaiting()}catch(e){e instanceof Error&&(i=e)}if(await t.runCallbacks("handlerDidComplete",{event:a,request:s,response:r,error:i}),t.destroy(),i)throw i}}class J extends V{async _handle(e,t){let s,a=await t.cacheMatch(e);if(!a)try{a=await t.fetchAndCachePut(e)}catch(e){e instanceof Error&&(s=e)}if(!a)throw new d("no-response",{url:e.url,error:s});return a}}let z={cacheWillUpdate:async({response:e})=>200===e.status||0===e.status?e:null};class Z extends V{constructor(e={}){super(e),this.plugins.some(e=>"cacheWillUpdate"in e)||this.plugins.unshift(z),this._networkTimeoutSeconds=e.networkTimeoutSeconds||0}async _handle(e,t){let s;let a=[],r=[];if(this._networkTimeoutSeconds){let{id:i,promise:n}=this._getTimeoutPromise({request:e,logs:a,handler:t});s=i,r.push(n)}let i=this._getNetworkPromise({timeoutId:s,request:e,logs:a,handler:t});r.push(i);let n=await t.waitUntil((async()=>await t.waitUntil(Promise.race(r))||await i)());if(!n)throw new d("no-response",{url:e.url});return n}_getTimeoutPromise({request:e,logs:t,handler:s}){let a;return{promise:new Promise(t=>{a=setTimeout(async()=>{t(await s.cacheMatch(e))},1e3*this._networkTimeoutSeconds)}),id:a}}async _getNetworkPromise({timeoutId:e,request:t,logs:s,handler:a}){let r,i;try{i=await a.fetchAndCachePut(t)}catch(e){e instanceof Error&&(r=e)}return e&&clearTimeout(e),(r||!i)&&(i=await a.cacheMatch(t)),i}}class X extends V{constructor(e={}){super(e),this._networkTimeoutSeconds=e.networkTimeoutSeconds||0}async _handle(e,t){let s,a;try{let a=[t.fetch(e)];if(this._networkTimeoutSeconds){let e=E(1e3*this._networkTimeoutSeconds);a.push(e)}if(!(s=await Promise.race(a)))throw Error(`Timed out the network response after ${this._networkTimeoutSeconds} seconds.`)}catch(e){e instanceof Error&&(a=e)}if(!s)throw new d("no-response",{url:e.url,error:a});return s}}class ee extends V{constructor(e={}){super(e),this.plugins.some(e=>"cacheWillUpdate"in e)||this.plugins.unshift(z)}async _handle(e,t){let s;let a=t.fetchAndCachePut(e).catch(()=>{});t.waitUntil(a);let r=await t.cacheMatch(e);if(r);else try{r=await a}catch(e){e instanceof Error&&(s=e)}if(!r)throw new d("no-response",{url:e.url,error:s});return r}}s(80);let et=e=>e&&"object"==typeof e?e:{handle:e};class es{constructor(e,t,s="GET"){this.handler=et(t),this.match=e,this.method=s}setCatchHandler(e){this.catchHandler=et(e)}}class ea extends es{constructor(e,t,s){super(({url:t})=>{let s=e.exec(t.href);if(s&&(t.origin===location.origin||0===s.index))return s.slice(1)},t,s)}}class er{constructor(){this._routes=new Map,this._defaultHandlerMap=new Map}get routes(){return this._routes}addFetchListener(){self.addEventListener("fetch",e=>{let{request:t}=e,s=this.handleRequest({request:t,event:e});s&&e.respondWith(s)})}addCacheListener(){self.addEventListener("message",e=>{if(e.data&&"CACHE_URLS"===e.data.type){let{payload:t}=e.data,s=Promise.all(t.urlsToCache.map(t=>{"string"==typeof t&&(t=[t]);let s=new Request(...t);return this.handleRequest({request:s,event:e})}));e.waitUntil(s),e.ports&&e.ports[0]&&s.then(()=>e.ports[0].postMessage(!0))}})}handleRequest({request:e,event:t}){let s;let a=new URL(e.url,location.href);if(!a.protocol.startsWith("http"))return;let r=a.origin===location.origin,{params:i,route:n}=this.findMatchingRoute({event:t,request:e,sameOrigin:r,url:a}),o=n&&n.handler,c=e.method;if(!o&&this._defaultHandlerMap.has(c)&&(o=this._defaultHandlerMap.get(c)),!o)return;try{s=o.handle({url:a,request:e,event:t,params:i})}catch(e){s=Promise.reject(e)}let l=n&&n.catchHandler;return s instanceof Promise&&(this._catchHandler||l)&&(s=s.catch(async s=>{if(l)try{return await l.handle({url:a,request:e,event:t,params:i})}catch(e){e instanceof Error&&(s=e)}if(this._catchHandler)return this._catchHandler.handle({url:a,request:e,event:t});throw s})),s}findMatchingRoute({url:e,sameOrigin:t,request:s,event:a}){for(let r of this._routes.get(s.method)||[]){let i;let n=r.match({url:e,sameOrigin:t,request:s,event:a});if(n)return Array.isArray(i=n)&&0===i.length?i=void 0:n.constructor===Object&&0===Object.keys(n).length?i=void 0:"boolean"==typeof n&&(i=void 0),{route:r,params:i}}return{}}setDefaultHandler(e,t="GET"){this._defaultHandlerMap.set(t,et(e))}setCatchHandler(e){this._catchHandler=et(e)}registerRoute(e){this._routes.has(e.method)||this._routes.set(e.method,[]),this._routes.get(e.method).push(e)}unregisterRoute(e){if(!this._routes.has(e.method))throw new d("unregister-route-but-not-found-with-method",{method:e.method});let t=this._routes.get(e.method).indexOf(e);if(t>-1)this._routes.get(e.method).splice(t,1);else throw new d("unregister-route-route-not-registered")}}let ei=()=>(o||((o=new er).addFetchListener(),o.addCacheListener()),o);function en(e,t,s){let a;if("string"==typeof e){let r=new URL(e,location.href);a=new es(({url:e})=>e.href===r.href,t,s)}else if(e instanceof RegExp)a=new ea(e,t,s);else if("function"==typeof e)a=new es(e,t,s);else if(e instanceof es)a=e;else throw new d("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});return ei().registerRoute(a),a}s(977);class eo{constructor(){this.updatedURLs=[],this.notUpdatedURLs=[],this.handlerWillStart=async({request:e,state:t})=>{t&&(t.originalRequest=e)},this.cachedResponseWillBeUsed=async({event:e,state:t,cachedResponse:s})=>{if("install"===e.type&&t&&t.originalRequest&&t.originalRequest instanceof Request){let e=t.originalRequest.url;s?this.notUpdatedURLs.push(e):this.updatedURLs.push(e)}return s}}}class ec{constructor({precacheController:e}){this.cacheKeyWillBeUsed=async({request:e,params:t})=>{let s=(null==t?void 0:t.cacheKey)||this._precacheController.getCacheKeyForURL(e.url);return s?new Request(s,{headers:e.headers}):e},this._precacheController=e}}class el extends V{constructor(e={}){e.cacheName=y(e.cacheName),super(e),this._fallbackToNetwork=!1!==e.fallbackToNetwork,this.plugins.push(el.copyRedirectedCacheableResponsesPlugin)}async _handle(e,t){return await t.cacheMatch(e)||(t.event&&"install"===t.event.type?await this._handleInstall(e,t):await this._handleFetch(e,t))}async _handleFetch(e,t){let s;let a=t.params||{};if(this._fallbackToNetwork){let r=a.integrity,i=e.integrity,n=!i||i===r;s=await t.fetch(new Request(e,{integrity:"no-cors"!==e.mode?i||r:void 0})),r&&n&&"no-cors"!==e.mode&&(this._useDefaultCacheabilityPluginIfNeeded(),await t.cachePut(e,s.clone()))}else throw new d("missing-precache-entry",{cacheName:this.cacheName,url:e.url});return s}async _handleInstall(e,t){this._useDefaultCacheabilityPluginIfNeeded();let s=await t.fetch(e);if(!await t.cachePut(e,s.clone()))throw new d("bad-precaching-response",{url:e.url,status:s.status});return s}_useDefaultCacheabilityPluginIfNeeded(){let e=null,t=0;for(let[s,a]of this.plugins.entries())a!==el.copyRedirectedCacheableResponsesPlugin&&(a===el.defaultPrecacheCacheabilityPlugin&&(e=s),a.cacheWillUpdate&&t++);0===t?this.plugins.push(el.defaultPrecacheCacheabilityPlugin):t>1&&null!==e&&this.plugins.splice(e,1)}}el.defaultPrecacheCacheabilityPlugin={cacheWillUpdate:async({response:e})=>!e||e.status>=400?null:e},el.copyRedirectedCacheableResponsesPlugin={cacheWillUpdate:async({response:e})=>e.redirected?await q(e):e};class eu{constructor({cacheName:e,plugins:t=[],fallbackToNetwork:s=!0}={}){this._urlsToCacheKeys=new Map,this._urlsToCacheModes=new Map,this._cacheKeysToIntegrities=new Map,this._strategy=new el({cacheName:y(e),plugins:[...t,new ec({precacheController:this})],fallbackToNetwork:s}),this.install=this.install.bind(this),this.activate=this.activate.bind(this)}get strategy(){return this._strategy}precache(e){this.addToCacheList(e),this._installAndActiveListenersAdded||(self.addEventListener("install",this.install),self.addEventListener("activate",this.activate),this._installAndActiveListenersAdded=!0)}addToCacheList(e){let t=[];for(let s of e){"string"==typeof s?t.push(s):s&&void 0===s.revision&&t.push(s.url);let{cacheKey:e,url:a}=function(e){if(!e)throw new d("add-to-cache-list-unexpected-type",{entry:e});if("string"==typeof e){let t=new URL(e,location.href);return{cacheKey:t.href,url:t.href}}let{revision:t,url:s}=e;if(!s)throw new d("add-to-cache-list-unexpected-type",{entry:e});if(!t){let e=new URL(s,location.href);return{cacheKey:e.href,url:e.href}}let a=new URL(s,location.href),r=new URL(s,location.href);return a.searchParams.set("__WB_REVISION__",t),{cacheKey:a.href,url:r.href}}(s),r="string"!=typeof s&&s.revision?"reload":"default";if(this._urlsToCacheKeys.has(a)&&this._urlsToCacheKeys.get(a)!==e)throw new d("add-to-cache-list-conflicting-entries",{firstEntry:this._urlsToCacheKeys.get(a),secondEntry:e});if("string"!=typeof s&&s.integrity){if(this._cacheKeysToIntegrities.has(e)&&this._cacheKeysToIntegrities.get(e)!==s.integrity)throw new d("add-to-cache-list-conflicting-integrities",{url:a});this._cacheKeysToIntegrities.set(e,s.integrity)}this._urlsToCacheKeys.set(a,e),this._urlsToCacheModes.set(a,r),t.length>0&&console.warn(`Workbox is precaching URLs without revision info: ${t.join(", ")}
This is generally NOT safe. Learn more at https://bit.ly/wb-precache`)}}install(e){return R(e,async()=>{let t=new eo;for(let[s,a]of(this.strategy.plugins.push(t),this._urlsToCacheKeys)){let t=this._cacheKeysToIntegrities.get(a),r=this._urlsToCacheModes.get(s),i=new Request(s,{integrity:t,cache:r,credentials:"same-origin"});await Promise.all(this.strategy.handleAll({params:{cacheKey:a},request:i,event:e}))}let{updatedURLs:s,notUpdatedURLs:a}=t;return{updatedURLs:s,notUpdatedURLs:a}})}activate(e){return R(e,async()=>{let e=await self.caches.open(this.strategy.cacheName),t=await e.keys(),s=new Set(this._urlsToCacheKeys.values()),a=[];for(let r of t)s.has(r.url)||(await e.delete(r),a.push(r.url));return{deletedURLs:a}})}getURLsToCacheKeys(){return this._urlsToCacheKeys}getCachedURLs(){return[...this._urlsToCacheKeys.keys()]}getCacheKeyForURL(e){let t=new URL(e,location.href);return this._urlsToCacheKeys.get(t.href)}getIntegrityForCacheKey(e){return this._cacheKeysToIntegrities.get(e)}async matchPrecache(e){let t=e instanceof Request?e.url:e,s=this.getCacheKeyForURL(t);if(s)return(await self.caches.open(this.strategy.cacheName)).match(s)}createHandlerBoundToURL(e){let t=this.getCacheKeyForURL(e);if(!t)throw new d("non-precached-url",{url:e});return s=>(s.request=new Request(e),s.params=Object.assign({cacheKey:t},s.params),this.strategy.handle(s))}}let eh=()=>(c||(c=new eu),c);class ed extends es{constructor(e,t){super(({request:s})=>{let a=e.getURLsToCacheKeys();for(let r of function*(e,{ignoreURLParametersMatching:t=[/^utm_/,/^fbclid$/],directoryIndex:s="index.html",cleanURLs:a=!0,urlManipulation:r}={}){let i=new URL(e,location.href);i.hash="",yield i.href;let n=function(e,t=[]){for(let s of[...e.searchParams.keys()])t.some(e=>e.test(s))&&e.searchParams.delete(s);return e}(i,t);if(yield n.href,s&&n.pathname.endsWith("/")){let e=new URL(n.href);e.pathname+=s,yield e.href}if(a){let e=new URL(n.href);e.pathname+=".html",yield e.href}if(r)for(let e of r({url:i}))yield e.href}(s.url,t)){let t=a.get(r);if(t){let s=e.getIntegrityForCacheKey(t);return{cacheKey:t,integrity:s}}}},e.strategy)}}let ef="-precache-",eg=async(e,t=ef)=>{let s=(await self.caches.keys()).filter(s=>s.includes(t)&&s.includes(self.registration.scope)&&s!==e);return await Promise.all(s.map(e=>self.caches.delete(e))),s};function e_(e){return eh().matchPrecache(e)}s(272);let ep="requests",ey="queueName";class em{constructor(){this._db=null}async addEntry(e){let t=(await this.getDb()).transaction(ep,"readwrite",{durability:"relaxed"});await t.store.add(e),await t.done}async getFirstEntryId(){let e=await this.getDb(),t=await e.transaction(ep).store.openCursor();return null==t?void 0:t.value.id}async getAllEntriesByQueueName(e){let t=await this.getDb();return await t.getAllFromIndex(ep,ey,IDBKeyRange.only(e))||[]}async getEntryCountByQueueName(e){return(await this.getDb()).countFromIndex(ep,ey,IDBKeyRange.only(e))}async deleteEntry(e){let t=await this.getDb();await t.delete(ep,e)}async getFirstEntryByQueueName(e){return await this.getEndEntryFromIndex(IDBKeyRange.only(e),"next")}async getLastEntryByQueueName(e){return await this.getEndEntryFromIndex(IDBKeyRange.only(e),"prev")}async getEndEntryFromIndex(e,t){let s=await this.getDb(),a=await s.transaction(ep).store.index(ey).openCursor(e,t);return null==a?void 0:a.value}async getDb(){return this._db||(this._db=await L("workbox-background-sync",3,{upgrade:this._upgradeDb})),this._db}_upgradeDb(e,t){t>0&&t<3&&e.objectStoreNames.contains(ep)&&e.deleteObjectStore(ep),e.createObjectStore(ep,{autoIncrement:!0,keyPath:"id"}).createIndex(ey,ey,{unique:!1})}}class ew{constructor(e){this._queueName=e,this._queueDb=new em}async pushEntry(e){delete e.id,e.queueName=this._queueName,await this._queueDb.addEntry(e)}async unshiftEntry(e){let t=await this._queueDb.getFirstEntryId();t?e.id=t-1:delete e.id,e.queueName=this._queueName,await this._queueDb.addEntry(e)}async popEntry(){return this._removeEntry(await this._queueDb.getLastEntryByQueueName(this._queueName))}async shiftEntry(){return this._removeEntry(await this._queueDb.getFirstEntryByQueueName(this._queueName))}async getAll(){return await this._queueDb.getAllEntriesByQueueName(this._queueName)}async size(){return await this._queueDb.getEntryCountByQueueName(this._queueName)}async deleteEntry(e){await this._queueDb.deleteEntry(e)}async _removeEntry(e){return e&&await this.deleteEntry(e.id),e}}let ev=["method","referrer","referrerPolicy","mode","credentials","cache","redirect","integrity","keepalive"];class eb{constructor(e){"navigate"===e.mode&&(e.mode="same-origin"),this._requestData=e}static async fromRequest(e){let t={url:e.url,headers:{}};for(let[s,a]of("GET"!==e.method&&(t.body=await e.clone().arrayBuffer()),e.headers.entries()))t.headers[s]=a;for(let s of ev)void 0!==e[s]&&(t[s]=e[s]);return new eb(t)}toObject(){let e=Object.assign({},this._requestData);return e.headers=Object.assign({},this._requestData.headers),e.body&&(e.body=e.body.slice(0)),e}toRequest(){return new Request(this._requestData.url,this._requestData)}clone(){return new eb(this.toObject())}}let eS="workbox-background-sync",eD=new Set,ex=e=>{let t={request:new eb(e.requestData).toRequest(),timestamp:e.timestamp};return e.metadata&&(t.metadata=e.metadata),t};class eE{constructor(e,{forceSyncFallback:t,onSync:s,maxRetentionTime:a}={}){if(this._syncInProgress=!1,this._requestsAddedDuringSync=!1,eD.has(e))throw new d("duplicate-queue-name",{name:e});eD.add(e),this._name=e,this._onSync=s||this.replayRequests,this._maxRetentionTime=a||10080,this._forceSyncFallback=!!t,this._queueStore=new ew(this._name),this._addSyncListener()}get name(){return this._name}async pushRequest(e){await this._addRequest(e,"push")}async unshiftRequest(e){await this._addRequest(e,"unshift")}async popRequest(){return this._removeRequest("pop")}async shiftRequest(){return this._removeRequest("shift")}async getAll(){let e=await this._queueStore.getAll(),t=Date.now(),s=[];for(let a of e){let e=6e4*this._maxRetentionTime;t-a.timestamp>e?await this._queueStore.deleteEntry(a.id):s.push(ex(a))}return s}async size(){return await this._queueStore.size()}async _addRequest({request:e,metadata:t,timestamp:s=Date.now()},a){let r={requestData:(await eb.fromRequest(e.clone())).toObject(),timestamp:s};switch(t&&(r.metadata=t),a){case"push":await this._queueStore.pushEntry(r);break;case"unshift":await this._queueStore.unshiftEntry(r)}this._syncInProgress?this._requestsAddedDuringSync=!0:await this.registerSync()}async _removeRequest(e){let t;let s=Date.now();switch(e){case"pop":t=await this._queueStore.popEntry();break;case"shift":t=await this._queueStore.shiftEntry()}if(t){let a=6e4*this._maxRetentionTime;return s-t.timestamp>a?this._removeRequest(e):ex(t)}}async replayRequests(){let e;for(;e=await this.shiftRequest();)try{await fetch(e.request.clone())}catch(t){throw await this.unshiftRequest(e),new d("queue-replay-failed",{name:this._name})}}async registerSync(){if("sync"in self.registration&&!this._forceSyncFallback)try{await self.registration.sync.register(`${eS}:${this._name}`)}catch(e){}}_addSyncListener(){"sync"in self.registration&&!this._forceSyncFallback?self.addEventListener("sync",e=>{if(e.tag===`${eS}:${this._name}`){let t=async()=>{let t;this._syncInProgress=!0;try{await this._onSync({queue:this})}catch(e){if(e instanceof Error)throw e}finally{this._requestsAddedDuringSync&&!(t&&!e.lastChance)&&await this.registerSync(),this._syncInProgress=!1,this._requestsAddedDuringSync=!1}};e.waitUntil(t())}}):this._onSync({queue:this})}static get _queueNames(){return eD}}class eR{constructor(e,t){this.fetchDidFail=async({request:e})=>{await this._queue.pushRequest({request:e})},this._queue=new eE(e,t)}}s(895);class eq{constructor(e={}){this._statuses=e.statuses,this._headers=e.headers}isResponseCacheable(e){let t=!0;return this._statuses&&(t=this._statuses.includes(e.status)),this._headers&&t&&(t=Object.keys(this._headers).some(t=>e.headers.get(t)===this._headers[t])),t}}class ek{constructor(e){this.cacheWillUpdate=async({response:e})=>this._cacheableResponse.isResponseCacheable(e)?e:null,this._cacheableResponse=new eq(e)}}class eM{log(e){fetch("/api/logs",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:"browser",message:e})})}}let eT=new eM,eC=["continue","continuePrimaryKey","advance"],e$={},eI=new WeakMap,eN=new WeakMap,eO={get(e,t){if(!eC.includes(t))return e[t];let s=e$[t];return s||(s=e$[t]=function(...e){eI.set(this,eN.get(this)[t](...e))}),s}};async function*eA(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;let s=new Proxy(t,eO);for(eN.set(s,t),I.set(s,A(t));t;)yield s,t=await (eI.get(s)||t.continue()),eI.delete(s)}function eL(e,t){return t===Symbol.asyncIterator&&k(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&k(e,[IDBIndex,IDBObjectStore])}N={...u=N,get:(e,t,s)=>eL(e,t)?eA:u.get(e,t,s),has:(e,t)=>eL(e,t)||u.has(e,t)};let ej={movies:["release_date","limited_release_date","theatrical_release_date","digital_release_date","ignore","watchlist","release_status"]};ej.providers=[];let eU=null;try{eU=L("upcoming",14,{upgrade(e,t,s,a,r){for(let[r,n]of(eT.log("upgrade db ".concat(t,":").concat(s)),Object.entries(ej))){let t;for(var i of(t=e.objectStoreNames.contains(r)?a.objectStore(r):e.createObjectStore(r,{keyPath:"id",autoIncrement:!1}),n))t.indexNames.contains(i)?eT.log("Index ".concat(i," already exists")):(eT.log("Create index ".concat(i)),t.createIndex(i,i))}},blocked(e,t,s){eT.log("Blocked ".concat(e,":").concat(t)),eT.log(s)},blocking(e,t,s){eT.log("Blocking ".concat(e,":").concat(t)),eT.log(s)},terminated(){eT.log("DB Terminated")}})}catch(e){eT.log(e)}class eP{get(e,t){return eU.then(s=>s.transaction(e).objectStore(e).get(t)).catch(e=>{})}getAll(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return eU.then(a=>a.transaction(e).objectStore(e).index(t).getAll(s)).catch(e=>{eT.log(e)})}getAllMovieIDs(){return eU.then(e=>e.transaction("movies").objectStore("movies").getAllKeys()).catch(e=>{eT.log(e)})}getAllMovies(e,t){return eU.then(s=>{let a=[],r=IDBKeyRange.bound(e,t),i=s.transaction("movies").objectStore("movies");return a.push(i.index("theatrical_release_date").getAllKeys(r)),a.push(i.index("limited_release_date").getAllKeys(r)),Promise.all(a).catch(e=>{eT.log(e)})}).catch(e=>{eT.log(e)})}getMovie(e){return eU.then(t=>t.transaction("movies").objectStore("movies").get(e)).catch(e=>{eT.log(e)})}getMovieWatchlist(){return eU.then(e=>e.transaction("movies").objectStore("movies").index("watchlist").getAllKeys(IDBKeyRange.bound(1,1))).catch(e=>{eT.log(e)})}async getMovieUpcomingWatchlist(){try{let e=(await eU).transaction("movies").objectStore("movies").index("release_status"),t=await e.getAllKeys(IDBKeyRange.bound(0,0)),s=await this.getMovies(t),a=[];for(let e=0;e<s.length;e++)0!=s[e].watchlist&&a.push(s[e]);return a}catch(e){eT.log(e)}}async clearMovieWatchlist(){try{let e=await eU,t=e.transaction("movies").objectStore("movies").index("watchlist"),s=await t.getAllKeys(IDBKeyRange.bound(1,1));await s.map(async t=>{let s=await e.transaction("movies").objectStore("movies").get(t);s.watchlist=0,eW.put("movies",s)})}catch(e){eT.log(e)}}getMovies(e){return eU.then(t=>{let s=[];return e.map(e=>{s.push(t.transaction("movies").objectStore("movies").get(e))},s),Promise.all(s).catch(e=>{eT.log(e)})}).catch(e=>{eT.log(e)})}put(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return eU.then(a=>s?a.transaction(e,"readwrite").objectStore(e).put(t,s):a.transaction(e,"readwrite").objectStore(e).put(t)).catch(e=>{eT.log(e)})}delete(e,t){return eU.then(s=>s.transaction(e,"readwrite").objectStore(e).delete(t)).catch(e=>{eT.log(e)})}deleteAll(e){return eU.then(t=>t.transaction(e,"readwrite").objectStore(e).clear()).catch(e=>{})}}let eW=new eP,eB=s(484);class eK{async get(e){var t="/api/movies/upcoming";e&&(t+="?month=".concat(e)),eT.log("Invoking: ".concat(t));let s=await fetch(t),a=await s.json();if(a.content){if(0==a.content.length)this.get(e+1);else for(let e in a.content){let t=a.content[e].id,s=await fetch("/api/movies/".concat(t)),r=await s.json();if(r.runtime<40&&r.runtime>0)continue;let i=!1;for(let e=0;e<r.release_dates.results.length;e++)if("US"==r.release_dates.results[e].iso_3166_1){for(let t=0;t<r.release_dates.results[e].release_dates.length;t++)2==r.release_dates.results[e].release_dates[t].type?(r.limited_release_date=r.release_dates.results[e].release_dates[t].release_date.split("T")[0],r.limited_certification=r.release_dates.results[e].release_dates[t].certification,r.limited_release_note=r.release_dates.results[e].release_dates[t].note,r.release_date=r.limited_release_date,i=!0):3==r.release_dates.results[e].release_dates[t].type?(r.theatrical_release_date=r.release_dates.results[e].release_dates[t].release_date.split("T")[0],r.theatrical_certification=r.release_dates.results[e].release_dates[t].certification,r.theatrical_note=r.release_dates.results[e].release_dates[t].note,i||(r.release_date=r.theatrical_release_date)):4==r.release_dates.results[e].release_dates[t].type&&(r.digital_release_date=r.release_dates.results[e].release_dates[t].release_date.split("T")[0],r.digital_certification=r.release_dates.results[e].release_dates[t].certification,r.digital_note=r.release_dates.results[e].release_dates[t].note);break}let n=await eW.getMovie(r.id);if(n){let e={...n,...r};eW.put("movies",e)}else eW.put("movies",r)}}}async get_movie(e){try{let t=await fetch("/api/movies/".concat(e));if(t.ok){let e=await t.json(),s=!1;for(let t=0;t<e.release_dates.results.length;t++)if("US"==e.release_dates.results[t].iso_3166_1){for(let a=0;a<e.release_dates.results[t].release_dates.length;a++)2==e.release_dates.results[t].release_dates[a].type?(e.limited_release_date=e.release_dates.results[t].release_dates[a].release_date.split("T")[0],e.limited_certification=e.release_dates.results[t].release_dates[a].certification,e.limited_release_note=e.release_dates.results[t].release_dates[a].note,e.release_date=e.limited_release_date,s=!0):3==e.release_dates.results[t].release_dates[a].type?(e.theatrical_release_date=e.release_dates.results[t].release_dates[a].release_date.split("T")[0],e.theatrical_certification=e.release_dates.results[t].release_dates[a].certification,e.theatrical_note=e.release_dates.results[t].release_dates[a].note,s||(e.release_date=e.theatrical_release_date)):4==e.release_dates.results[t].release_dates[a].type&&(e.digital_release_date=e.release_dates.results[t].release_dates[a].release_date.split("T")[0],e.digital_certification=e.release_dates.results[t].release_dates[a].certification,e.digital_note=e.release_dates.results[t].release_dates[a].note);break}let a=await eW.getMovie(e.id);if(a){let t={...a,...e};eW.put("movies",t)}else eW.put("movies",e)}else 404==t.status?(eT.log("ERROR: movie ID ".concat(e," was not found, removing from database")),eW.delete("movies",e)):(eT.log("Response not OK ".concat(t.ok,":").concat(t.status,":").concat(t.statusText)),eT.log(t),eT.log(await t.json()))}catch(e){eT.log("Oops ".concat(e))}}async get_movie_watch_history_from_date(e){eT.log("MovieService.get_movie_watch_history - ".concat(e," - entry"));let t=await fetch("/api/watched?start_at=".concat(e));if(eT.log("MovieService.get_movie_watch_history - /api/watched?start_at=".concat(e," response - ").concat(t.statusText)),!t.ok)throw Error("API Issue");let s=await t.json();for(let e=0;e<s.length;e++){let t=await eW.getMovie(s[e].movie.ids.tmdb);t&&(t.watched=1,eW.put("movies",t))}}async get_movie_watch_history(){eT.log("MovieService.get_movie_watch_history - entry");let e=await fetch("/api/watched");if(eT.log("MovieService.get_movie_watch_history - /api/watched response - ".concat(e.statusText)),!e.ok)throw Error("API Issue");let t=await e.json();eT.log(t)}async get_movie_watch_list(){eT.log("MovieService.get_movie_watch_list - entry");let e=await fetch("/api/watchlist");if(eT.log("MovieService.get_movie_watch_list - /api/watchlist response - ".concat(e.statusText)),!e.ok)throw Error("API Issue");let t=await e.json(),s=await eW.getMovieWatchlist();for(let e=0;e<t.length;e++){let a=await fetch("/api/movies/".concat(t[e].movie.ids.tmdb));if(!a.ok)throw Error("API Issue");let r=await a.json();for(let e=0;e<r.release_dates.results.length;e++)if("US"==r.release_dates.results[e].iso_3166_1){for(let t=0;t<r.release_dates.results[e].release_dates.length;t++)if(2==r.release_dates.results[e].release_dates[t].type)r.limited_release_date=r.release_dates.results[e].release_dates[t].release_date.split("T")[0],r.limited_certification=r.release_dates.results[e].release_dates[t].certification,30>=Math.abs(eB().diff(r.limited_release_date,"day"))?r.release_status=0:eB().isSameOrBefore(eB(r.limited_release_date))?r.release_status=1:r.release_status=-1;else if(3==r.release_dates.results[e].release_dates[t].type)r.theatrical_release_date=r.release_dates.results[e].release_dates[t].release_date.split("T")[0],r.theatrical_certification=r.release_dates.results[e].release_dates[t].certification,30>=Math.abs(eB().diff(r.theatrical_release_date,"day"))?r.release_status=0:eB().isSameOrBefore(eB(r.theatrical_release_date))?r.release_status=1:r.release_status=-1;else if(4==r.release_dates.results[e].release_dates[t].type)r.digital_release_date=r.release_dates.results[e].release_dates[t].release_date.split("T")[0],r.digital_certification=r.release_dates.results[e].release_dates[t].certification,eB().isAfter(eB(r.digital_release_date))&&(r.release_status=-1);else if(5==r.release_dates.results[e].release_dates[t].type||6==r.release_dates.results[e].release_dates[t].type){let s=r.release_dates.results[e].release_dates[t].release_date.split("T")[0];eB().isAfter(eB(s))&&(r.release_status=-1)}break}r.watchlist=1;let i=await eW.getMovie(r.id);if(s.indexOf(r.id)>-1&&s.splice(s.indexOf(r.id),1),i){let e={...i,...r};eW.put("movies",e)}else eW.put("movies",r)}for(let e=0;e<s.length;e++){let t=await eW.getMovie(s[e]);t.watchlist=0,eW.put("movies",t)}}async resync_movie_watch_list(){await eW.clearMovieWatchlist(),eF.get_movie_watch_list()}async refresh_movies(){(await eW.getAllMovieIDs()).map(e=>{eF.get_movie(e)})}}let eF=new eK,eH=s(484);self.skipWaiting(),self.addEventListener("activate",()=>self.clients.claim());let eQ=[{'revision':'1fbaf800d7858adae964ad49d73d387b','url':'/_next/static/9OcxJPpXRwa2LaORseqWf/_buildManifest.js'},{'revision':'b6652df95db52feb4daf4eca35380933','url':'/_next/static/9OcxJPpXRwa2LaORseqWf/_ssgManifest.js'},{'revision':'31f6d1be97f94787','url':'/_next/static/chunks/305.31f6d1be97f94787.js'},{'revision':'0022386a8054ae6f','url':'/_next/static/chunks/596-0022386a8054ae6f.js'},{'revision':'280121464710555e','url':'/_next/static/chunks/975-280121464710555e.js'},{'revision':'ecc4130bc7a58a64','url':'/_next/static/chunks/framework-ecc4130bc7a58a64.js'},{'revision':'c4d8f8fb3b4944ef','url':'/_next/static/chunks/main-c4d8f8fb3b4944ef.js'},{'revision':'c733f46e293b44dd','url':'/_next/static/chunks/pages/_app-c733f46e293b44dd.js'},{'revision':'77823ddac6993d35','url':'/_next/static/chunks/pages/_error-77823ddac6993d35.js'},{'revision':'6dd3c3de8d5d25fa','url':'/_next/static/chunks/pages/fallback-6dd3c3de8d5d25fa.js'},{'revision':'eb23b07917a7bc51','url':'/_next/static/chunks/pages/index-eb23b07917a7bc51.js'},{'revision':'44969f4bb6dd6bbf','url':'/_next/static/chunks/pages/lists-44969f4bb6dd6bbf.js'},{'revision':'ddae0cb6d2dca57e','url':'/_next/static/chunks/pages/me-ddae0cb6d2dca57e.js'},{'revision':'ae46207e97e55378','url':'/_next/static/chunks/pages/upcoming-movies-ae46207e97e55378.js'},{'revision':'79330112775102f91e1010318bae2bd3','url':'/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js'},{'revision':'a9334c650c68199a','url':'/_next/static/chunks/webpack-a9334c650c68199a.js'},{'revision':'1c34ae2e3f8d82d6','url':'/_next/static/css/1c34ae2e3f8d82d6.css'},{'revision':'24a81f6645c3cd74','url':'/_next/static/css/24a81f6645c3cd74.css'},{'revision':'7eeca2893aefc4cd','url':'/_next/static/css/7eeca2893aefc4cd.css'},{'revision':'7c6bf90dad0eb944a643a51216738082','url':'/favicon.ico'},{'revision':'58b1459dd15ecd7e4e4c5b30ec6f72b1','url':'/icon-192x192.png'},{'revision':'f785940275fbc4d325353306b7fde674','url':'/icon-256x256.png'},{'revision':'5f754684e317f57a2af16adb2e00b653','url':'/icon-384x384.png'},{'revision':'3bcc2fba46a774ae51020918828ef92f','url':'/icon-512x512.png'},{'revision':'b0e04eeb1200a3428067ef64645d11a8','url':'/manifest.json'},{'revision':'c7e3b9ad2afc19035cc3b2520933cc07','url':'/netliheart.svg'},{'revision':'034010a237eaf29431d6e6f50c5d25e4','url':'/sw.js'}];eQ.push({url:"/fallback",revision:"1234567893"}),eh().precache(eQ),e=void 0,en(new ed(eh(),e));let eY=new eE("apiRequestQueue");self.addEventListener("activate",e=>{let t=y();e.waitUntil(eg(t).then(e=>{}))}),self.addEventListener("sync",e=>{eT.log("SW:sync:".concat(e.target,":").concat(e.type,":").concat(e.tag))}),self.addEventListener("periodicsync",e=>{eT.log("SW:periodicsync:".concat(e.target,":").concat(e.type,":").concat(e.tag))}),self.addEventListener("fetch",e=>{if(e.request.url.endsWith("logs"))return;eT.log("SW:fetch:".concat(e.target,":").concat(e.type,":").concat(e.request.url));let t=async()=>{try{return await fetch(e.request.clone())}catch(t){return eT.log("SW:fetch:queue:".concat(e.target,":").concat(e.type,":").concat(e.request.url)),await eY.pushRequest({request:e.request}),t}};e.respondWith(t())}),self.addEventListener("activate",e=>{console.log("SW:activate"),eF.refresh_movies();var t=eH();eF.get(t.month()),eF.resync_movie_watch_list()});let eG=new eR("movieUpdates",{maxRetentionTime:1440});en("/",new Z({cacheName:"start-url",plugins:[new Q({maxEntries:1,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),en(/^https:\/\/fonts\.(?:googleapis|gstatic)\.com\/.*/i,new J({cacheName:"google-fonts",plugins:[new Q({maxEntries:4,maxAgeSeconds:31536e3,purgeOnQuotaError:!0})]}),"GET"),en(/\.(?:eot|otf|ttc|ttf|woff|woff2|font.css)$/i,new ee({cacheName:"static-font-assets",plugins:[new Q({maxEntries:4,maxAgeSeconds:604800,purgeOnQuotaError:!0})]}),"GET"),en(/\.(?:jpg|jpeg|gif|png|svg|ico|webp)$/i,new X({cacheName:"static-image-assets",plugins:[new Q({maxEntries:64,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),en(/\.(?:js)$/i,new ee({cacheName:"static-js-assets",plugins:[new Q({maxEntries:32,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),en(/\.(?:css|less)$/i,new ee({cacheName:"static-style-assets",plugins:[new Q({maxEntries:32,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),en(/\.(?:json|xml|csv)$/i,new Z({cacheName:"static-data-assets",plugins:[new Q({maxEntries:32,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),en(/\/api\/.*$/i,new ee({cacheName:"apis",networkTimeoutSeconds:10,plugins:[eG,new Q({maxEntries:500,maxAgeSeconds:86400,purgeOnQuotaError:!0}),new ek({statuses:[200]})]}),"GET"),en(/.*/i,new Z({cacheName:"others",networkTimeoutSeconds:10,plugins:[new Q({maxEntries:32,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),t=new ee,ei().setDefaultHandler(t),a=e=>{let{event:t}=e;switch(t.request.destination){case"document":return eT.log("SW: document - ".concat(JSON.stringify(t))),e_("/fallback");case"image":return eT.log("SW: image- ".concat(JSON.stringify(t))),e_("/static/images/fallback.png");case"font":eT.log("SW: font - ".concat(JSON.stringify(t)));break;default:return eT.log("SW: default - ".concat(JSON.stringify(t))),Response.error()}},ei().setCatchHandler(a)}()}();