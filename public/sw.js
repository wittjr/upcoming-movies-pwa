!function(){var e={484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,s=36e5,n="millisecond",r="second",a="minute",i="hour",o="day",c="week",u="month",l="quarter",h="year",d="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],s=e%100;return"["+e+(t[(s-20)%10]||t[s]||t[0])+"]"}},m=function(e,t,s){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(s)+e},_={s:m,z:function(e){var t=-e.utcOffset(),s=Math.abs(t),n=Math.floor(s/60),r=s%60;return(t<=0?"+":"-")+m(n,2,"0")+":"+m(r,2,"0")},m:function e(t,s){if(t.date()<s.date())return-e(s,t);var n=12*(s.year()-t.year())+(s.month()-t.month()),r=t.clone().add(n,u),a=s-r<0,i=t.clone().add(n+(a?-1:1),u);return+(-(n+(s-r)/(a?r-i:i-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:h,w:c,d:o,D:d,h:i,m:a,s:r,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",v={};v[w]=y;var b=function(e){return e instanceof k},S=function e(t,s,n){var r;if(!t)return w;if("string"==typeof t){var a=t.toLowerCase();v[a]&&(r=a),s&&(v[a]=s,r=a);var i=t.split("-");if(!r&&i.length>1)return e(i[0])}else{var o=t.name;v[o]=t,r=o}return!n&&r&&(w=r),r||!n&&w},x=function(e,t){if(b(e))return e.clone();var s="object"==typeof t?t:{};return s.date=e,s.args=arguments,new k(s)},D=_;D.l=S,D.i=b,D.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function y(e){this.$L=S(e.locale,null,!0),this.parse(e)}var m=y.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,s=e.utc;if(null===t)return new Date(NaN);if(D.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(p);if(n){var r=n[2]-1||0,a=(n[7]||"0").substring(0,3);return s?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return D},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(e,t){var s=x(e);return this.startOf(t)<=s&&s<=this.endOf(t)},m.isAfter=function(e,t){return x(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<x(e)},m.$g=function(e,t,s){return D.u(e)?this[t]:this.set(s,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var s=this,n=!!D.u(t)||t,l=D.p(e),f=function(e,t){var r=D.w(s.$u?Date.UTC(s.$y,t,e):new Date(s.$y,t,e),s);return n?r:r.endOf(o)},p=function(e,t){return D.w(s.toDate()[e].apply(s.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),s)},g=this.$W,y=this.$M,m=this.$D,_="set"+(this.$u?"UTC":"");switch(l){case h:return n?f(1,0):f(31,11);case u:return n?f(1,y):f(0,y+1);case c:var w=this.$locale().weekStart||0,v=(g<w?g+7:g)-w;return f(n?m-v:m+(6-v),y);case o:case d:return p(_+"Hours",0);case i:return p(_+"Minutes",1);case a:return p(_+"Seconds",2);case r:return p(_+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var s,c=D.p(e),l="set"+(this.$u?"UTC":""),f=(s={},s[o]=l+"Date",s[d]=l+"Date",s[u]=l+"Month",s[h]=l+"FullYear",s[i]=l+"Hours",s[a]=l+"Minutes",s[r]=l+"Seconds",s[n]=l+"Milliseconds",s)[c],p=c===o?this.$D+(t-this.$W):t;if(c===u||c===h){var g=this.clone().set(d,1);g.$d[f](p),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[D.p(e)]()},m.add=function(n,l){var d,f=this;n=Number(n);var p=D.p(l),g=function(e){var t=x(f);return D.w(t.date(t.date()+Math.round(e*n)),f)};if(p===u)return this.set(u,this.$M+n);if(p===h)return this.set(h,this.$y+n);if(p===o)return g(1);if(p===c)return g(7);var y=(d={},d[a]=t,d[i]=s,d[r]=e,d)[p]||1,m=this.$d.getTime()+n*y;return D.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,s=this.$locale();if(!this.isValid())return s.invalidDate||f;var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=D.z(this),a=this.$H,i=this.$m,o=this.$M,c=s.weekdays,u=s.months,l=s.meridiem,h=function(e,s,r,a){return e&&(e[s]||e(t,n))||r[s].slice(0,a)},d=function(e){return D.s(a%12||12,e,"0")},p=l||function(e,t,s){var n=e<12?"AM":"PM";return s?n.toLowerCase():n};return n.replace(g,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return D.s(t.$y,4,"0");case"M":return o+1;case"MM":return D.s(o+1,2,"0");case"MMM":return h(s.monthsShort,o,u,3);case"MMMM":return h(u,o);case"D":return t.$D;case"DD":return D.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(s.weekdaysMin,t.$W,c,2);case"ddd":return h(s.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(a);case"HH":return D.s(a,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return p(a,i,!0);case"A":return p(a,i,!1);case"m":return String(i);case"mm":return D.s(i,2,"0");case"s":return String(t.$s);case"ss":return D.s(t.$s,2,"0");case"SSS":return D.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,d,f){var p,g=this,y=D.p(d),m=x(n),_=(m.utcOffset()-this.utcOffset())*t,w=this-m,v=function(){return D.m(g,m)};switch(y){case h:p=v()/12;break;case u:p=v();break;case l:p=v()/3;break;case c:p=(w-_)/6048e5;break;case o:p=(w-_)/864e5;break;case i:p=w/s;break;case a:p=w/t;break;case r:p=w/e;break;default:p=w}return f?p:D.a(p)},m.daysInMonth=function(){return this.endOf(u).$D},m.$locale=function(){return v[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var s=this.clone(),n=S(e,t,!0);return n&&(s.$L=n),s},m.clone=function(){return D.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},y}(),q=k.prototype;return x.prototype=q,[["$ms",n],["$s",r],["$m",a],["$H",i],["$W",o],["$M",u],["$y",h],["$D",d]].forEach((function(e){q[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,k,x),e.$i=!0),x},x.locale=S,x.isDayjs=b,x.unix=function(e){return x(1e3*e)},x.en=v[w],x.Ls=v,x.p={},x}()},272:function(){"use strict";try{self["workbox:background-sync:6.5.3"]&&_()}catch(e){}},895:function(){"use strict";try{self["workbox:cacheable-response:6.5.3"]&&_()}catch(e){}},913:function(){"use strict";try{self["workbox:core:6.5.3"]&&_()}catch(e){}},550:function(){"use strict";try{self["workbox:expiration:6.5.3"]&&_()}catch(e){}},977:function(){"use strict";try{self["workbox:precaching:6.5.3"]&&_()}catch(e){}},80:function(){"use strict";try{self["workbox:routing:6.5.3"]&&_()}catch(e){}},873:function(){"use strict";try{self["workbox:strategies:6.5.3"]&&_()}catch(e){}}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}},i=!0;try{e[n].call(a.exports,a,a.exports,s),i=!1}finally{i&&delete t[n]}return a.exports}!function(){"use strict";function e(e,t,s,n,r,a,i){try{var o=e[a](i),c=o.value}catch(u){return void s(u)}o.done?t(c):Promise.resolve(c).then(n,r)}function t(t){return function(){var s=this,n=arguments;return new Promise((function(r,a){var i=t.apply(s,n);function o(t){e(i,r,a,o,c,"next",t)}function c(t){e(i,r,a,o,c,"throw",t)}o(void 0)}))}}function n(e,t){var s,n,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(c){return function(o){if(s)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(i=0)),i;)try{if(s=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{s=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}Object.create;Object.create;s(913);const r=(e,...t)=>{let s=e;return t.length>0&&(s+=` :: ${JSON.stringify(t)}`),s};class a extends Error{constructor(e,t){super(r(e,t)),this.name=e,this.details=t}}const i=new Set;const o={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:"undefined"!==typeof registration?registration.scope:""},c=e=>[o.prefix,e,o.suffix].filter((e=>e&&e.length>0)).join("-"),u=e=>e||c(o.precache),l=e=>e||c(o.runtime);function h(e,t){const s=new URL(e);for(const n of t)s.searchParams.delete(n);return s.href}let d;function f(e){e.then((()=>{}))}class p{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const g=e=>new URL(String(e),location.href).href.replace(new RegExp(`^${location.origin}`),"");function y(e){return new Promise((t=>setTimeout(t,e)))}function m(e,t){const s=t();return e.waitUntil(s),s}async function _(e,t){let s=null;if(e.url){s=new URL(e.url).origin}if(s!==self.location.origin)throw new a("cross-origin-copy-response",{origin:s});const n=e.clone(),r={headers:new Headers(n.headers),status:n.status,statusText:n.statusText},i=t?t(r):r,o=function(){if(void 0===d){const t=new Response("");if("body"in t)try{new Response(t.body),d=!0}catch(e){d=!1}d=!1}return d}()?n.body:await n.blob();return new Response(o,i)}const w=(e,t)=>t.some((t=>e instanceof t));let v,b;const S=new WeakMap,x=new WeakMap,D=new WeakMap,k=new WeakMap,q=new WeakMap;let E={get(e,t,s){if(e instanceof IDBTransaction){if("done"===t)return x.get(e);if("objectStoreNames"===t)return e.objectStoreNames||D.get(e);if("store"===t)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return C(e[t])},set:(e,t,s)=>(e[t]=s,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function R(e){E=e(E)}function T(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(b||(b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(O(this),t),C(S.get(this))}:function(...t){return C(e.apply(O(this),t))}:function(t,...s){const n=e.call(O(this),t,...s);return D.set(n,t.sort?t.sort():[t]),C(n)}}function M(e){return"function"===typeof e?T(e):(e instanceof IDBTransaction&&function(e){if(x.has(e))return;const t=new Promise(((t,s)=>{const n=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{t(),n()},a=()=>{s(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)}));x.set(e,t)}(e),w(e,v||(v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,E):e)}function C(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,s)=>{const n=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{t(C(e.result)),n()},a=()=>{s(e.error),n()};e.addEventListener("success",r),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&S.set(t,e)})).catch((()=>{})),q.set(t,e),t}(e);if(k.has(e))return k.get(e);const t=M(e);return t!==e&&(k.set(e,t),q.set(t,e)),t}const O=e=>q.get(e);function I(e,t,{blocked:s,upgrade:n,blocking:r,terminated:a}={}){const i=indexedDB.open(e,t),o=C(i);return n&&i.addEventListener("upgradeneeded",(e=>{n(C(i.result),e.oldVersion,e.newVersion,C(i.transaction),e)})),s&&i.addEventListener("blocked",(e=>s(e.oldVersion,e.newVersion,e))),o.then((e=>{a&&e.addEventListener("close",(()=>a())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}function $(e,{blocked:t}={}){const s=indexedDB.deleteDatabase(e);return t&&s.addEventListener("blocked",(e=>t(e.oldVersion,e))),C(s).then((()=>{}))}const N=["get","getKey","getAll","getAllKeys","count"],A=["put","add","delete","clear"],L=new Map;function j(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(L.get(t))return L.get(t);const s=t.replace(/FromIndex$/,""),n=t!==s,r=A.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!N.includes(s))return;const a=async function(e,...t){const a=this.transaction(e,r?"readwrite":"readonly");let i=a.store;return n&&(i=i.index(t.shift())),(await Promise.all([i[s](...t),r&&a.done]))[0]};return L.set(t,a),a}R((e=>({...e,get:(t,s,n)=>j(t,s)||e.get(t,s,n),has:(t,s)=>!!j(t,s)||e.has(t,s)})));s(550);const U="cache-entries",P=e=>{const t=new URL(e,location.href);return t.hash="",t.href};class K{constructor(e){this._db=null,this._cacheName=e}_upgradeDb(e){const t=e.createObjectStore(U,{keyPath:"id"});t.createIndex("cacheName","cacheName",{unique:!1}),t.createIndex("timestamp","timestamp",{unique:!1})}_upgradeDbAndDeleteOldDbs(e){this._upgradeDb(e),this._cacheName&&$(this._cacheName)}async setTimestamp(e,t){const s={url:e=P(e),timestamp:t,cacheName:this._cacheName,id:this._getId(e)},n=(await this.getDb()).transaction(U,"readwrite",{durability:"relaxed"});await n.store.put(s),await n.done}async getTimestamp(e){const t=await this.getDb(),s=await t.get(U,this._getId(e));return null===s||void 0===s?void 0:s.timestamp}async expireEntries(e,t){const s=await this.getDb();let n=await s.transaction(U).store.index("timestamp").openCursor(null,"prev");const r=[];let a=0;for(;n;){const s=n.value;s.cacheName===this._cacheName&&(e&&s.timestamp<e||t&&a>=t?r.push(n.value):a++),n=await n.continue()}const i=[];for(const o of r)await s.delete(U,o.id),i.push(o.url);return i}_getId(e){return this._cacheName+"|"+P(e)}async getDb(){return this._db||(this._db=await I("workbox-expiration",1,{upgrade:this._upgradeDbAndDeleteOldDbs.bind(this)})),this._db}}class B{constructor(e,t={}){this._isRunning=!1,this._rerunRequested=!1,this._maxEntries=t.maxEntries,this._maxAgeSeconds=t.maxAgeSeconds,this._matchOptions=t.matchOptions,this._cacheName=e,this._timestampModel=new K(e)}async expireEntries(){if(this._isRunning)return void(this._rerunRequested=!0);this._isRunning=!0;const e=this._maxAgeSeconds?Date.now()-1e3*this._maxAgeSeconds:0,t=await this._timestampModel.expireEntries(e,this._maxEntries),s=await self.caches.open(this._cacheName);for(const n of t)await s.delete(n,this._matchOptions);this._isRunning=!1,this._rerunRequested&&(this._rerunRequested=!1,f(this.expireEntries()))}async updateTimestamp(e){await this._timestampModel.setTimestamp(e,Date.now())}async isURLExpired(e){if(this._maxAgeSeconds){const t=await this._timestampModel.getTimestamp(e),s=Date.now()-1e3*this._maxAgeSeconds;return void 0===t||t<s}return!1}async delete(){this._rerunRequested=!1,await this._timestampModel.expireEntries(1/0)}}class W{constructor(e={}){var t;this.cachedResponseWillBeUsed=async({event:e,request:t,cacheName:s,cachedResponse:n})=>{if(!n)return null;const r=this._isResponseDateFresh(n),a=this._getCacheExpiration(s);f(a.expireEntries());const i=a.updateTimestamp(t.url);if(e)try{e.waitUntil(i)}catch(o){0}return r?n:null},this.cacheDidUpdate=async({cacheName:e,request:t})=>{const s=this._getCacheExpiration(e);await s.updateTimestamp(t.url),await s.expireEntries()},this._config=e,this._maxAgeSeconds=e.maxAgeSeconds,this._cacheExpirations=new Map,e.purgeOnQuotaError&&(t=()=>this.deleteCacheAndMetadata(),i.add(t))}_getCacheExpiration(e){if(e===l())throw new a("expire-custom-caches-only");let t=this._cacheExpirations.get(e);return t||(t=new B(e,this._config),this._cacheExpirations.set(e,t)),t}_isResponseDateFresh(e){if(!this._maxAgeSeconds)return!0;const t=this._getDateHeaderTimestamp(e);if(null===t)return!0;return t>=Date.now()-1e3*this._maxAgeSeconds}_getDateHeaderTimestamp(e){if(!e.headers.has("date"))return null;const t=e.headers.get("date"),s=new Date(t).getTime();return isNaN(s)?null:s}async deleteCacheAndMetadata(){for(const[e,t]of this._cacheExpirations)await self.caches.delete(e),await t.delete();this._cacheExpirations=new Map}}s(873);function F(e){return"string"===typeof e?new Request(e):e}class H{constructor(e,t){this._cacheKeys={},Object.assign(this,t),this.event=t.event,this._strategy=e,this._handlerDeferred=new p,this._extendLifetimePromises=[],this._plugins=[...e.plugins],this._pluginStateMap=new Map;for(const s of this._plugins)this._pluginStateMap.set(s,{});this.event.waitUntil(this._handlerDeferred.promise)}async fetch(e){const{event:t}=this;let s=F(e);if("navigate"===s.mode&&t instanceof FetchEvent&&t.preloadResponse){const e=await t.preloadResponse;if(e)return e}const n=this.hasCallback("fetchDidFail")?s.clone():null;try{for(const e of this.iterateCallbacks("requestWillFetch"))s=await e({request:s.clone(),event:t})}catch(i){if(i instanceof Error)throw new a("plugin-error-request-will-fetch",{thrownErrorMessage:i.message})}const r=s.clone();try{let e;e=await fetch(s,"navigate"===s.mode?void 0:this._strategy.fetchOptions);for(const s of this.iterateCallbacks("fetchDidSucceed"))e=await s({event:t,request:r,response:e});return e}catch(o){throw n&&await this.runCallbacks("fetchDidFail",{error:o,event:t,originalRequest:n.clone(),request:r.clone()}),o}}async fetchAndCachePut(e){const t=await this.fetch(e),s=t.clone();return this.waitUntil(this.cachePut(e,s)),t}async cacheMatch(e){const t=F(e);let s;const{cacheName:n,matchOptions:r}=this._strategy,a=await this.getCacheKey(t,"read"),i=Object.assign(Object.assign({},r),{cacheName:n});s=await caches.match(a,i);for(const o of this.iterateCallbacks("cachedResponseWillBeUsed"))s=await o({cacheName:n,matchOptions:r,cachedResponse:s,request:a,event:this.event})||void 0;return s}async cachePut(e,t){const s=F(e);await y(0);const n=await this.getCacheKey(s,"write");if(!t)throw new a("cache-put-with-no-response",{url:g(n.url)});const r=await this._ensureResponseSafeToCache(t);if(!r)return!1;const{cacheName:o,matchOptions:c}=this._strategy,u=await self.caches.open(o),l=this.hasCallback("cacheDidUpdate"),d=l?await async function(e,t,s,n){const r=h(t.url,s);if(t.url===r)return e.match(t,n);const a=Object.assign(Object.assign({},n),{ignoreSearch:!0}),i=await e.keys(t,a);for(const o of i)if(r===h(o.url,s))return e.match(o,n)}(u,n.clone(),["__WB_REVISION__"],c):null;try{await u.put(n,l?r.clone():r)}catch(f){if(f instanceof Error)throw"QuotaExceededError"===f.name&&await async function(){for(const e of i)await e()}(),f}for(const a of this.iterateCallbacks("cacheDidUpdate"))await a({cacheName:o,oldResponse:d,newResponse:r.clone(),request:n,event:this.event});return!0}async getCacheKey(e,t){const s=`${e.url} | ${t}`;if(!this._cacheKeys[s]){let n=e;for(const e of this.iterateCallbacks("cacheKeyWillBeUsed"))n=F(await e({mode:t,request:n,event:this.event,params:this.params}));this._cacheKeys[s]=n}return this._cacheKeys[s]}hasCallback(e){for(const t of this._strategy.plugins)if(e in t)return!0;return!1}async runCallbacks(e,t){for(const s of this.iterateCallbacks(e))await s(t)}*iterateCallbacks(e){for(const t of this._strategy.plugins)if("function"===typeof t[e]){const s=this._pluginStateMap.get(t),n=n=>{const r=Object.assign(Object.assign({},n),{state:s});return t[e](r)};yield n}}waitUntil(e){return this._extendLifetimePromises.push(e),e}async doneWaiting(){let e;for(;e=this._extendLifetimePromises.shift();)await e}destroy(){this._handlerDeferred.resolve(null)}async _ensureResponseSafeToCache(e){let t=e,s=!1;for(const n of this.iterateCallbacks("cacheWillUpdate"))if(t=await n({request:this.request,response:t,event:this.event})||void 0,s=!0,!t)break;return s||t&&200!==t.status&&(t=void 0),t}}class Q{constructor(e={}){this.cacheName=l(e.cacheName),this.plugins=e.plugins||[],this.fetchOptions=e.fetchOptions,this.matchOptions=e.matchOptions}handle(e){const[t]=this.handleAll(e);return t}handleAll(e){e instanceof FetchEvent&&(e={event:e,request:e.request});const t=e.event,s="string"===typeof e.request?new Request(e.request):e.request,n="params"in e?e.params:void 0,r=new H(this,{event:t,request:s,params:n}),a=this._getResponse(r,s,t);return[a,this._awaitComplete(a,r,s,t)]}async _getResponse(e,t,s){let n;await e.runCallbacks("handlerWillStart",{event:s,request:t});try{if(n=await this._handle(t,e),!n||"error"===n.type)throw new a("no-response",{url:t.url})}catch(r){if(r instanceof Error)for(const a of e.iterateCallbacks("handlerDidError"))if(n=await a({error:r,event:s,request:t}),n)break;if(!n)throw r}for(const a of e.iterateCallbacks("handlerWillRespond"))n=await a({event:s,request:t,response:n});return n}async _awaitComplete(e,t,s,n){let r,a;try{r=await e}catch(a){}try{await t.runCallbacks("handlerDidRespond",{event:n,request:s,response:r}),await t.doneWaiting()}catch(i){i instanceof Error&&(a=i)}if(await t.runCallbacks("handlerDidComplete",{event:n,request:s,response:r,error:a}),t.destroy(),a)throw a}}const G={cacheWillUpdate:async({response:e})=>200===e.status||0===e.status?e:null};class Y extends Q{constructor(e={}){super(e),this.plugins.some((e=>"cacheWillUpdate"in e))||this.plugins.unshift(G),this._networkTimeoutSeconds=e.networkTimeoutSeconds||0}async _handle(e,t){const s=[];const n=[];let r;if(this._networkTimeoutSeconds){const{id:a,promise:i}=this._getTimeoutPromise({request:e,logs:s,handler:t});r=a,n.push(i)}const i=this._getNetworkPromise({timeoutId:r,request:e,logs:s,handler:t});n.push(i);const o=await t.waitUntil((async()=>await t.waitUntil(Promise.race(n))||await i)());if(!o)throw new a("no-response",{url:e.url});return o}_getTimeoutPromise({request:e,logs:t,handler:s}){let n;return{promise:new Promise((t=>{n=setTimeout((async()=>{t(await s.cacheMatch(e))}),1e3*this._networkTimeoutSeconds)})),id:n}}async _getNetworkPromise({timeoutId:e,request:t,logs:s,handler:n}){let r,a;try{a=await n.fetchAndCachePut(t)}catch(i){i instanceof Error&&(r=i)}return e&&clearTimeout(e),!r&&a||(a=await n.cacheMatch(t)),a}}class V extends Q{constructor(e={}){super(e),this.plugins.some((e=>"cacheWillUpdate"in e))||this.plugins.unshift(G)}async _handle(e,t){const s=t.fetchAndCachePut(e).catch((()=>{}));t.waitUntil(s);let n,r=await t.cacheMatch(e);if(r)0;else{0;try{r=await s}catch(i){i instanceof Error&&(n=i)}}if(!r)throw new a("no-response",{url:e.url,error:n});return r}}s(80);const J=e=>e&&"object"===typeof e?e:{handle:e};class z{constructor(e,t,s="GET"){this.handler=J(t),this.match=e,this.method=s}setCatchHandler(e){this.catchHandler=J(e)}}class Z extends z{constructor(e,t,s){super((({url:t})=>{const s=e.exec(t.href);if(s&&(t.origin===location.origin||0===s.index))return s.slice(1)}),t,s)}}class X{constructor(){this._routes=new Map,this._defaultHandlerMap=new Map}get routes(){return this._routes}addFetchListener(){self.addEventListener("fetch",(e=>{const{request:t}=e,s=this.handleRequest({request:t,event:e});s&&e.respondWith(s)}))}addCacheListener(){self.addEventListener("message",(e=>{if(e.data&&"CACHE_URLS"===e.data.type){const{payload:t}=e.data;0;const s=Promise.all(t.urlsToCache.map((t=>{"string"===typeof t&&(t=[t]);const s=new Request(...t);return this.handleRequest({request:s,event:e})})));e.waitUntil(s),e.ports&&e.ports[0]&&s.then((()=>e.ports[0].postMessage(!0)))}}))}handleRequest({request:e,event:t}){const s=new URL(e.url,location.href);if(!s.protocol.startsWith("http"))return void 0;const n=s.origin===location.origin,{params:r,route:a}=this.findMatchingRoute({event:t,request:e,sameOrigin:n,url:s});let i=a&&a.handler;const o=e.method;if(!i&&this._defaultHandlerMap.has(o)&&(i=this._defaultHandlerMap.get(o)),!i)return void 0;let c;try{c=i.handle({url:s,request:e,event:t,params:r})}catch(l){c=Promise.reject(l)}const u=a&&a.catchHandler;return c instanceof Promise&&(this._catchHandler||u)&&(c=c.catch((async n=>{if(u){0;try{return await u.handle({url:s,request:e,event:t,params:r})}catch(a){a instanceof Error&&(n=a)}}if(this._catchHandler)return this._catchHandler.handle({url:s,request:e,event:t});throw n}))),c}findMatchingRoute({url:e,sameOrigin:t,request:s,event:n}){const r=this._routes.get(s.method)||[];for(const a of r){let r;const i=a.match({url:e,sameOrigin:t,request:s,event:n});if(i)return r=i,(Array.isArray(r)&&0===r.length||i.constructor===Object&&0===Object.keys(i).length||"boolean"===typeof i)&&(r=void 0),{route:a,params:r}}return{}}setDefaultHandler(e,t="GET"){this._defaultHandlerMap.set(t,J(e))}setCatchHandler(e){this._catchHandler=J(e)}registerRoute(e){this._routes.has(e.method)||this._routes.set(e.method,[]),this._routes.get(e.method).push(e)}unregisterRoute(e){if(!this._routes.has(e.method))throw new a("unregister-route-but-not-found-with-method",{method:e.method});const t=this._routes.get(e.method).indexOf(e);if(!(t>-1))throw new a("unregister-route-route-not-registered");this._routes.get(e.method).splice(t,1)}}let ee;const te=()=>(ee||(ee=new X,ee.addFetchListener(),ee.addCacheListener()),ee);function se(e,t,s){let n;if("string"===typeof e){const r=new URL(e,location.href);0;n=new z((({url:e})=>e.href===r.href),t,s)}else if(e instanceof RegExp)n=new Z(e,t,s);else if("function"===typeof e)n=new z(e,t,s);else{if(!(e instanceof z))throw new a("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});n=e}return te().registerRoute(n),n}s(977);function ne(e){if(!e)throw new a("add-to-cache-list-unexpected-type",{entry:e});if("string"===typeof e){const t=new URL(e,location.href);return{cacheKey:t.href,url:t.href}}const{revision:t,url:s}=e;if(!s)throw new a("add-to-cache-list-unexpected-type",{entry:e});if(!t){const e=new URL(s,location.href);return{cacheKey:e.href,url:e.href}}const n=new URL(s,location.href),r=new URL(s,location.href);return n.searchParams.set("__WB_REVISION__",t),{cacheKey:n.href,url:r.href}}class re{constructor(){this.updatedURLs=[],this.notUpdatedURLs=[],this.handlerWillStart=async({request:e,state:t})=>{t&&(t.originalRequest=e)},this.cachedResponseWillBeUsed=async({event:e,state:t,cachedResponse:s})=>{if("install"===e.type&&t&&t.originalRequest&&t.originalRequest instanceof Request){const e=t.originalRequest.url;s?this.notUpdatedURLs.push(e):this.updatedURLs.push(e)}return s}}}class ae{constructor({precacheController:e}){this.cacheKeyWillBeUsed=async({request:e,params:t})=>{const s=(null===t||void 0===t?void 0:t.cacheKey)||this._precacheController.getCacheKeyForURL(e.url);return s?new Request(s,{headers:e.headers}):e},this._precacheController=e}}class ie extends Q{constructor(e={}){e.cacheName=u(e.cacheName),super(e),this._fallbackToNetwork=!1!==e.fallbackToNetwork,this.plugins.push(ie.copyRedirectedCacheableResponsesPlugin)}async _handle(e,t){const s=await t.cacheMatch(e);return s||(t.event&&"install"===t.event.type?await this._handleInstall(e,t):await this._handleFetch(e,t))}async _handleFetch(e,t){let s;const n=t.params||{};if(!this._fallbackToNetwork)throw new a("missing-precache-entry",{cacheName:this.cacheName,url:e.url});{0;const r=n.integrity,a=e.integrity,i=!a||a===r;if(s=await t.fetch(new Request(e,{integrity:"no-cors"!==e.mode?a||r:void 0})),r&&i&&"no-cors"!==e.mode){this._useDefaultCacheabilityPluginIfNeeded();await t.cachePut(e,s.clone());0}}return s}async _handleInstall(e,t){this._useDefaultCacheabilityPluginIfNeeded();const s=await t.fetch(e);if(!(await t.cachePut(e,s.clone())))throw new a("bad-precaching-response",{url:e.url,status:s.status});return s}_useDefaultCacheabilityPluginIfNeeded(){let e=null,t=0;for(const[s,n]of this.plugins.entries())n!==ie.copyRedirectedCacheableResponsesPlugin&&(n===ie.defaultPrecacheCacheabilityPlugin&&(e=s),n.cacheWillUpdate&&t++);0===t?this.plugins.push(ie.defaultPrecacheCacheabilityPlugin):t>1&&null!==e&&this.plugins.splice(e,1)}}ie.defaultPrecacheCacheabilityPlugin={cacheWillUpdate:async({response:e})=>!e||e.status>=400?null:e},ie.copyRedirectedCacheableResponsesPlugin={cacheWillUpdate:async({response:e})=>e.redirected?await _(e):e};class oe{constructor({cacheName:e,plugins:t=[],fallbackToNetwork:s=!0}={}){this._urlsToCacheKeys=new Map,this._urlsToCacheModes=new Map,this._cacheKeysToIntegrities=new Map,this._strategy=new ie({cacheName:u(e),plugins:[...t,new ae({precacheController:this})],fallbackToNetwork:s}),this.install=this.install.bind(this),this.activate=this.activate.bind(this)}get strategy(){return this._strategy}precache(e){this.addToCacheList(e),this._installAndActiveListenersAdded||(self.addEventListener("install",this.install),self.addEventListener("activate",this.activate),this._installAndActiveListenersAdded=!0)}addToCacheList(e){const t=[];for(const s of e){"string"===typeof s?t.push(s):s&&void 0===s.revision&&t.push(s.url);const{cacheKey:e,url:n}=ne(s),r="string"!==typeof s&&s.revision?"reload":"default";if(this._urlsToCacheKeys.has(n)&&this._urlsToCacheKeys.get(n)!==e)throw new a("add-to-cache-list-conflicting-entries",{firstEntry:this._urlsToCacheKeys.get(n),secondEntry:e});if("string"!==typeof s&&s.integrity){if(this._cacheKeysToIntegrities.has(e)&&this._cacheKeysToIntegrities.get(e)!==s.integrity)throw new a("add-to-cache-list-conflicting-integrities",{url:n});this._cacheKeysToIntegrities.set(e,s.integrity)}if(this._urlsToCacheKeys.set(n,e),this._urlsToCacheModes.set(n,r),t.length>0){const e=`Workbox is precaching URLs without revision info: ${t.join(", ")}\nThis is generally NOT safe. Learn more at https://bit.ly/wb-precache`;console.warn(e)}}}install(e){return m(e,(async()=>{const t=new re;this.strategy.plugins.push(t);for(const[r,a]of this._urlsToCacheKeys){const t=this._cacheKeysToIntegrities.get(a),s=this._urlsToCacheModes.get(r),n=new Request(r,{integrity:t,cache:s,credentials:"same-origin"});await Promise.all(this.strategy.handleAll({params:{cacheKey:a},request:n,event:e}))}const{updatedURLs:s,notUpdatedURLs:n}=t;return{updatedURLs:s,notUpdatedURLs:n}}))}activate(e){return m(e,(async()=>{const e=await self.caches.open(this.strategy.cacheName),t=await e.keys(),s=new Set(this._urlsToCacheKeys.values()),n=[];for(const r of t)s.has(r.url)||(await e.delete(r),n.push(r.url));return{deletedURLs:n}}))}getURLsToCacheKeys(){return this._urlsToCacheKeys}getCachedURLs(){return[...this._urlsToCacheKeys.keys()]}getCacheKeyForURL(e){const t=new URL(e,location.href);return this._urlsToCacheKeys.get(t.href)}getIntegrityForCacheKey(e){return this._cacheKeysToIntegrities.get(e)}async matchPrecache(e){const t=e instanceof Request?e.url:e,s=this.getCacheKeyForURL(t);if(s){return(await self.caches.open(this.strategy.cacheName)).match(s)}}createHandlerBoundToURL(e){const t=this.getCacheKeyForURL(e);if(!t)throw new a("non-precached-url",{url:e});return s=>(s.request=new Request(e),s.params=Object.assign({cacheKey:t},s.params),this.strategy.handle(s))}}let ce;const ue=()=>(ce||(ce=new oe),ce);class le extends z{constructor(e,t){super((({request:s})=>{const n=e.getURLsToCacheKeys();for(const r of function*(e,{ignoreURLParametersMatching:t=[/^utm_/,/^fbclid$/],directoryIndex:s="index.html",cleanURLs:n=!0,urlManipulation:r}={}){const a=new URL(e,location.href);a.hash="",yield a.href;const i=function(e,t=[]){for(const s of[...e.searchParams.keys()])t.some((e=>e.test(s)))&&e.searchParams.delete(s);return e}(a,t);if(yield i.href,s&&i.pathname.endsWith("/")){const e=new URL(i.href);e.pathname+=s,yield e.href}if(n){const e=new URL(i.href);e.pathname+=".html",yield e.href}if(r){const e=r({url:a});for(const t of e)yield t.href}}(s.url,t)){const t=n.get(r);if(t){return{cacheKey:t,integrity:e.getIntegrityForCacheKey(t)}}}}),e.strategy)}}function he(e){return ue().matchPrecache(e)}s(272);const de="requests",fe="queueName";class pe{constructor(){this._db=null}async addEntry(e){const t=(await this.getDb()).transaction(de,"readwrite",{durability:"relaxed"});await t.store.add(e),await t.done}async getFirstEntryId(){const e=await this.getDb(),t=await e.transaction(de).store.openCursor();return null===t||void 0===t?void 0:t.value.id}async getAllEntriesByQueueName(e){const t=await this.getDb(),s=await t.getAllFromIndex(de,fe,IDBKeyRange.only(e));return s||new Array}async getEntryCountByQueueName(e){return(await this.getDb()).countFromIndex(de,fe,IDBKeyRange.only(e))}async deleteEntry(e){const t=await this.getDb();await t.delete(de,e)}async getFirstEntryByQueueName(e){return await this.getEndEntryFromIndex(IDBKeyRange.only(e),"next")}async getLastEntryByQueueName(e){return await this.getEndEntryFromIndex(IDBKeyRange.only(e),"prev")}async getEndEntryFromIndex(e,t){const s=await this.getDb(),n=await s.transaction(de).store.index(fe).openCursor(e,t);return null===n||void 0===n?void 0:n.value}async getDb(){return this._db||(this._db=await I("workbox-background-sync",3,{upgrade:this._upgradeDb})),this._db}_upgradeDb(e,t){t>0&&t<3&&e.objectStoreNames.contains(de)&&e.deleteObjectStore(de);e.createObjectStore(de,{autoIncrement:!0,keyPath:"id"}).createIndex(fe,fe,{unique:!1})}}class ge{constructor(e){this._queueName=e,this._queueDb=new pe}async pushEntry(e){delete e.id,e.queueName=this._queueName,await this._queueDb.addEntry(e)}async unshiftEntry(e){const t=await this._queueDb.getFirstEntryId();t?e.id=t-1:delete e.id,e.queueName=this._queueName,await this._queueDb.addEntry(e)}async popEntry(){return this._removeEntry(await this._queueDb.getLastEntryByQueueName(this._queueName))}async shiftEntry(){return this._removeEntry(await this._queueDb.getFirstEntryByQueueName(this._queueName))}async getAll(){return await this._queueDb.getAllEntriesByQueueName(this._queueName)}async size(){return await this._queueDb.getEntryCountByQueueName(this._queueName)}async deleteEntry(e){await this._queueDb.deleteEntry(e)}async _removeEntry(e){return e&&await this.deleteEntry(e.id),e}}const ye=["method","referrer","referrerPolicy","mode","credentials","cache","redirect","integrity","keepalive"];class me{constructor(e){"navigate"===e.mode&&(e.mode="same-origin"),this._requestData=e}static async fromRequest(e){const t={url:e.url,headers:{}};"GET"!==e.method&&(t.body=await e.clone().arrayBuffer());for(const[s,n]of e.headers.entries())t.headers[s]=n;for(const s of ye)void 0!==e[s]&&(t[s]=e[s]);return new me(t)}toObject(){const e=Object.assign({},this._requestData);return e.headers=Object.assign({},this._requestData.headers),e.body&&(e.body=e.body.slice(0)),e}toRequest(){return new Request(this._requestData.url,this._requestData)}clone(){return new me(this.toObject())}}const _e="workbox-background-sync",we=new Set,ve=e=>{const t={request:new me(e.requestData).toRequest(),timestamp:e.timestamp};return e.metadata&&(t.metadata=e.metadata),t};class be{constructor(e,{forceSyncFallback:t,onSync:s,maxRetentionTime:n}={}){if(this._syncInProgress=!1,this._requestsAddedDuringSync=!1,we.has(e))throw new a("duplicate-queue-name",{name:e});we.add(e),this._name=e,this._onSync=s||this.replayRequests,this._maxRetentionTime=n||10080,this._forceSyncFallback=Boolean(t),this._queueStore=new ge(this._name),this._addSyncListener()}get name(){return this._name}async pushRequest(e){await this._addRequest(e,"push")}async unshiftRequest(e){await this._addRequest(e,"unshift")}async popRequest(){return this._removeRequest("pop")}async shiftRequest(){return this._removeRequest("shift")}async getAll(){const e=await this._queueStore.getAll(),t=Date.now(),s=[];for(const n of e){const e=60*this._maxRetentionTime*1e3;t-n.timestamp>e?await this._queueStore.deleteEntry(n.id):s.push(ve(n))}return s}async size(){return await this._queueStore.size()}async _addRequest({request:e,metadata:t,timestamp:s=Date.now()},n){const r={requestData:(await me.fromRequest(e.clone())).toObject(),timestamp:s};switch(t&&(r.metadata=t),n){case"push":await this._queueStore.pushEntry(r);break;case"unshift":await this._queueStore.unshiftEntry(r)}this._syncInProgress?this._requestsAddedDuringSync=!0:await this.registerSync()}async _removeRequest(e){const t=Date.now();let s;switch(e){case"pop":s=await this._queueStore.popEntry();break;case"shift":s=await this._queueStore.shiftEntry()}if(s){const n=60*this._maxRetentionTime*1e3;return t-s.timestamp>n?this._removeRequest(e):ve(s)}}async replayRequests(){let e;for(;e=await this.shiftRequest();)try{await fetch(e.request.clone())}catch(t){throw await this.unshiftRequest(e),new a("queue-replay-failed",{name:this._name})}}async registerSync(){if("sync"in self.registration&&!this._forceSyncFallback)try{await self.registration.sync.register(`${_e}:${this._name}`)}catch(e){0}}_addSyncListener(){"sync"in self.registration&&!this._forceSyncFallback?self.addEventListener("sync",(e=>{if(e.tag===`${_e}:${this._name}`){0;const t=async()=>{let t;this._syncInProgress=!0;try{await this._onSync({queue:this})}catch(s){if(s instanceof Error)throw t=s,t}finally{!this._requestsAddedDuringSync||t&&!e.lastChance||await this.registerSync(),this._syncInProgress=!1,this._requestsAddedDuringSync=!1}};e.waitUntil(t())}})):this._onSync({queue:this})}static get _queueNames(){return we}}s(895);class Se{constructor(e={}){this._statuses=e.statuses,this._headers=e.headers}isResponseCacheable(e){let t=!0;return this._statuses&&(t=this._statuses.includes(e.status)),this._headers&&t&&(t=Object.keys(this._headers).some((t=>e.headers.get(t)===this._headers[t]))),t}}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ke(e,t,s){return t&&De(e.prototype,t),s&&De(e,s),e}var qe=new(function(){function e(){xe(this,e)}return ke(e,[{key:"log",value:function(e){fetch("/api/logs",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:"browser",message:e})})}}]),e}());function Ee(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Re(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),n.forEach((function(t){Ee(e,t,s[t])}))}return e}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return Te(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(s):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ce=["continue","continuePrimaryKey","advance"],Oe={},Ie=new WeakMap,$e=new WeakMap,Ne={get(e,t){if(!Ce.includes(t))return e[t];let s=Oe[t];return s||(s=Oe[t]=function(...e){Ie.set(this,$e.get(this)[t](...e))}),s}};async function*Ae(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const s=new Proxy(t,Ne);for($e.set(s,t),q.set(s,O(t));t;)yield s,t=await(Ie.get(s)||t.continue()),Ie.delete(s)}function Le(e,t){return t===Symbol.asyncIterator&&w(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&w(e,[IDBIndex,IDBObjectStore])}R((e=>({...e,get:(t,s,n)=>Le(t,s)?Ae:e.get(t,s,n),has:(t,s)=>Le(t,s)||e.has(t,s)})));var je={movies:["release_date","limited_release_date","theatrical_release_date","digital_release_date","ignore","watchlist","release_status"],providers:[]},Ue=null;try{Ue=I("upcoming",14,{upgrade:function(e,t,s,n,r){qe.log("upgrade db ".concat(t,":").concat(s));var a=!0,i=!1,o=void 0;try{for(var c,u=Object.entries(je)[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=Me(c.value,2),h=l[0],d=l[1],f=void 0;f=e.objectStoreNames.contains(h)?n.objectStore(h):e.createObjectStore(h,{keyPath:"id",autoIncrement:!1});var p=!0,g=!1,y=void 0;try{for(var m,_=d[Symbol.iterator]();!(p=(m=_.next()).done);p=!0){var w=m.value;f.indexNames.contains(w)?qe.log("Index ".concat(w," already exists")):(qe.log("Create index ".concat(w)),f.createIndex(w,w))}}catch(v){g=!0,y=v}finally{try{p||null==_.return||_.return()}finally{if(g)throw y}}}}catch(v){i=!0,o=v}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}},blocked:function(e,t,s){qe.log("Blocked ".concat(e,":").concat(t)),qe.log(s)},blocking:function(e,t,s){qe.log("Blocking ".concat(e,":").concat(t)),qe.log(s)},terminated:function(){qe.log("DB Terminated")}})}catch(Je){qe.log(Je)}var Pe=function(){function e(){xe(this,e)}return ke(e,[{key:"reset",value:function(){return t((function(){return n(this,(function(e){switch(e.label){case 0:return Ue?(Ue.then((function(e){e.close(),Ue=null})),[4,$("upcoming",{blocked:function(e,t){qe.log("blocked"),qe.log(e),qe.log(t)}})]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()}},{key:"get",value:function(e,t){return Ue.then((function(s){return s.transaction(e).objectStore(e).get(t)})).catch((function(e){}))}},{key:"getAll",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Ue.then((function(n){return n.transaction(e).objectStore(e).index(t).getAll(s)})).catch((function(e){qe.log(e)}))}},{key:"getAllMovieIDs",value:function(){return Ue.then((function(e){return e.transaction("movies").objectStore("movies").getAllKeys()})).catch((function(e){qe.log(e)}))}},{key:"getAllMovies",value:function(e,t){return Ue.then((function(s){var n=[],r=IDBKeyRange.bound(e,t),a=s.transaction("movies").objectStore("movies"),i=a.index("theatrical_release_date");n.push(i.getAllKeys(r));var o=a.index("limited_release_date");return n.push(o.getAllKeys(r)),Promise.all(n).catch((function(e){qe.log(e)}))})).catch((function(e){qe.log(e)}))}},{key:"getMovie",value:function(e){return Ue.then((function(t){return t.transaction("movies").objectStore("movies").get(e)})).catch((function(e){qe.log(e)}))}},{key:"getMovieWatchlist",value:function(){return Ue.then((function(e){return e.transaction("movies").objectStore("movies").index("watchlist").getAllKeys(IDBKeyRange.bound(1,1))})).catch((function(e){qe.log(e)}))}},{key:"getMovieUpcomingWatchlist",value:function(){var e=this;return t((function(){var t,s,r,a,i,o,c;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,Ue];case 1:return t=n.sent(),s=t.transaction("movies").objectStore("movies"),[4,s.index("release_status").getAllKeys(IDBKeyRange.bound(0,0))];case 2:return r=n.sent(),[4,e.getMovies(r)];case 3:for(a=n.sent(),i=[],o=0;o<a.length;o++)0!=a[o].watchlist&&i.push(a[o]);return[2,i];case 4:return c=n.sent(),qe.log(c),[3,5];case 5:return[2]}}))}))()}},{key:"clearMovieWatchlist",value:function(){return t((function(){var e,s;return n(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,Ue];case 1:return e=r.sent(),[4,e.transaction("movies").objectStore("movies").index("watchlist").getAllKeys(IDBKeyRange.bound(1,1))];case 2:return[4,r.sent().map(function(){var s=t((function(t){var s;return n(this,(function(n){switch(n.label){case 0:return[4,e.transaction("movies").objectStore("movies").get(t)];case 1:return(s=n.sent()).watchlist=0,Ke.put("movies",s),[2]}}))}));return function(e){return s.apply(this,arguments)}}())];case 3:return r.sent(),[3,5];case 4:return s=r.sent(),qe.log(s),[3,5];case 5:return[2]}}))}))()}},{key:"getMovies",value:function(e){return Ue.then((function(t){var s=[];return e.map((function(e){s.push(t.transaction("movies").objectStore("movies").get(e))}),s),Promise.all(s).catch((function(e){qe.log(e)}))})).catch((function(e){qe.log(e)}))}},{key:"put",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Ue.then((function(n){return s?n.transaction(e,"readwrite").objectStore(e).put(t,s):n.transaction(e,"readwrite").objectStore(e).put(t)})).catch((function(e){qe.log(e)}))}},{key:"delete",value:function(e,t){return Ue.then((function(s){return s.transaction(e,"readwrite").objectStore(e).delete(t)})).catch((function(e){qe.log(e)}))}},{key:"deleteAll",value:function(e){return Ue.then((function(t){return t.transaction(e,"readwrite").objectStore(e).clear()})).catch((function(e){}))}}]),e}(),Ke=new Pe,Be=s(484),We=new(function(){function e(){xe(this,e)}return ke(e,[{key:"get",value:function(e){var s=this;return t((function(){var t,r,a,i,o,c,u,l,h,d,f,p,g;return n(this,(function(n){switch(n.label){case 0:return t="/api/movies/upcoming",e&&(t+="?month=".concat(e)),qe.log("Invoking: ".concat(t)),[4,fetch(t)];case 1:return[4,n.sent().json()];case 2:return(r=n.sent()).content?0!=r.content.length?[3,3]:(s.get(e+1),[3,9]):[3,9];case 3:for(i in a=[],r.content)a.push(i);o=0,n.label=4;case 4:return o<a.length?(c=a[o],u=r.content[c].id,[4,fetch("/api/movies/".concat(u))]):[3,9];case 5:return[4,n.sent().json()];case 6:if((l=n.sent()).runtime<40&&l.runtime>0)return[3,8];for(h=!1,d=0;d<l.release_dates.results.length;d++)if("US"==l.release_dates.results[d].iso_3166_1){for(f=0;f<l.release_dates.results[d].release_dates.length;f++)2==l.release_dates.results[d].release_dates[f].type?(l.limited_release_date=l.release_dates.results[d].release_dates[f].release_date.split("T")[0],l.limited_certification=l.release_dates.results[d].release_dates[f].certification,l.limited_release_note=l.release_dates.results[d].release_dates[f].note,l.release_date=l.limited_release_date,h=!0):3==l.release_dates.results[d].release_dates[f].type?(l.theatrical_release_date=l.release_dates.results[d].release_dates[f].release_date.split("T")[0],l.theatrical_certification=l.release_dates.results[d].release_dates[f].certification,l.theatrical_note=l.release_dates.results[d].release_dates[f].note,h||(l.release_date=l.theatrical_release_date)):4==l.release_dates.results[d].release_dates[f].type&&(l.digital_release_date=l.release_dates.results[d].release_dates[f].release_date.split("T")[0],l.digital_certification=l.release_dates.results[d].release_dates[f].certification,l.digital_note=l.release_dates.results[d].release_dates[f].note);break}return[4,Ke.getMovie(l.id)];case 7:(p=n.sent())?(g=Re({},p,l),Ke.put("movies",g)):Ke.put("movies",l),n.label=8;case 8:return o++,[3,4];case 9:return[2]}}))}))()}},{key:"get_movie",value:function(e){return t((function(){var t,s,r,a,i,o,c,u,l;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,8,,9]),[4,fetch("/api/movies/".concat(e))];case 1:return(t=n.sent()).ok?[4,t.json()]:[3,4];case 2:for(s=n.sent(),r=!1,a=0;a<s.release_dates.results.length;a++)if("US"==s.release_dates.results[a].iso_3166_1){for(i=0;i<s.release_dates.results[a].release_dates.length;i++)2==s.release_dates.results[a].release_dates[i].type?(s.limited_release_date=s.release_dates.results[a].release_dates[i].release_date.split("T")[0],s.limited_certification=s.release_dates.results[a].release_dates[i].certification,s.limited_release_note=s.release_dates.results[a].release_dates[i].note,s.release_date=s.limited_release_date,r=!0):3==s.release_dates.results[a].release_dates[i].type?(s.theatrical_release_date=s.release_dates.results[a].release_dates[i].release_date.split("T")[0],s.theatrical_certification=s.release_dates.results[a].release_dates[i].certification,s.theatrical_note=s.release_dates.results[a].release_dates[i].note,r||(s.release_date=s.theatrical_release_date)):4==s.release_dates.results[a].release_dates[i].type&&(s.digital_release_date=s.release_dates.results[a].release_dates[i].release_date.split("T")[0],s.digital_certification=s.release_dates.results[a].release_dates[i].certification,s.digital_note=s.release_dates.results[a].release_dates[i].note);break}return[4,Ke.getMovie(s.id)];case 3:return(o=n.sent())?(c=Re({},o,s),Ke.put("movies",c)):Ke.put("movies",s),[3,7];case 4:return 404!=t.status?[3,5]:(qe.log("ERROR: movie ID ".concat(e," was not found, removing from database")),Ke.delete("movies",e),[3,7]);case 5:return qe.log("Response not OK ".concat(t.ok,":").concat(t.status,":").concat(t.statusText)),qe.log(t),u=qe.log,[4,t.json()];case 6:u.apply(qe,[n.sent()]),n.label=7;case 7:return[3,9];case 8:return l=n.sent(),qe.log("Oops ".concat(l)),[3,9];case 9:return[2]}}))}))()}},{key:"get_movie_watch_history_from_date",value:function(e){return t((function(){var t,s,r,a;return n(this,(function(n){switch(n.label){case 0:return qe.log("MovieService.get_movie_watch_history - ".concat(e," - entry")),[4,fetch("/api/watched?start_at=".concat(e))];case 1:if(t=n.sent(),qe.log("MovieService.get_movie_watch_history - /api/watched?start_at=".concat(e," response - ").concat(t.statusText)),!t.ok)throw new Error("API Issue");return[4,t.json()];case 2:s=n.sent(),r=0,n.label=3;case 3:return r<s.length?[4,Ke.getMovie(s[r].movie.ids.tmdb)]:[3,6];case 4:(a=n.sent())&&(a.watched=1,Ke.put("movies",a)),n.label=5;case 5:return r++,[3,3];case 6:return[2]}}))}))()}},{key:"get_movie_watch_history",value:function(){return t((function(){var e,t;return n(this,(function(s){switch(s.label){case 0:return qe.log("MovieService.get_movie_watch_history - entry"),[4,fetch("/api/watched")];case 1:if(e=s.sent(),qe.log("MovieService.get_movie_watch_history - /api/watched response - ".concat(e.statusText)),!e.ok)throw new Error("API Issue");return[4,e.json()];case 2:return t=s.sent(),qe.log(t),[2]}}))}))()}},{key:"get_movie_watch_list",value:function(){return t((function(){var e,t,s,r,a,i,o,c,u,l,h,d,f;return n(this,(function(n){switch(n.label){case 0:return qe.log("MovieService.get_movie_watch_list - entry"),[4,fetch("/api/watchlist")];case 1:if(e=n.sent(),qe.log("MovieService.get_movie_watch_list - /api/watchlist response - ".concat(e.statusText)),!e.ok)throw new Error("API Issue");return[4,e.json()];case 2:return t=n.sent(),[4,Ke.getMovieWatchlist()];case 3:s=n.sent(),r=0,n.label=4;case 4:return r<t.length?[4,fetch("/api/movies/".concat(t[r].movie.ids.tmdb))]:[3,9];case 5:if(!(a=n.sent()).ok)throw new Error("API Issue");return[4,a.json()];case 6:for(i=n.sent(),o=0;o<i.release_dates.results.length;o++)if("US"==i.release_dates.results[o].iso_3166_1){for(c=0;c<i.release_dates.results[o].release_dates.length;c++)2==i.release_dates.results[o].release_dates[c].type?(i.limited_release_date=i.release_dates.results[o].release_dates[c].release_date.split("T")[0],i.limited_certification=i.release_dates.results[o].release_dates[c].certification,Math.abs(Be().diff(i.limited_release_date,"day"))<=30?i.release_status=0:Be().isSameOrBefore(Be(i.limited_release_date))?i.release_status=1:i.release_status=-1):3==i.release_dates.results[o].release_dates[c].type?(i.theatrical_release_date=i.release_dates.results[o].release_dates[c].release_date.split("T")[0],i.theatrical_certification=i.release_dates.results[o].release_dates[c].certification,Math.abs(Be().diff(i.theatrical_release_date,"day"))<=30?i.release_status=0:Be().isSameOrBefore(Be(i.theatrical_release_date))?i.release_status=1:i.release_status=-1):4==i.release_dates.results[o].release_dates[c].type?(i.digital_release_date=i.release_dates.results[o].release_dates[c].release_date.split("T")[0],i.digital_certification=i.release_dates.results[o].release_dates[c].certification,Be().isAfter(Be(i.digital_release_date))&&(i.release_status=-1)):5!=i.release_dates.results[o].release_dates[c].type&&6!=i.release_dates.results[o].release_dates[c].type||(u=i.release_dates.results[o].release_dates[c].release_date.split("T")[0],Be().isAfter(Be(u))&&(i.release_status=-1));break}return i.watchlist=1,[4,Ke.getMovie(i.id)];case 7:l=n.sent(),s.indexOf(i.id)>-1&&s.splice(s.indexOf(i.id),1),l?(h=Re({},l,i),Ke.put("movies",h)):Ke.put("movies",i),n.label=8;case 8:return r++,[3,4];case 9:d=0,n.label=10;case 10:return d<s.length?[4,Ke.getMovie(s[d])]:[3,13];case 11:(f=n.sent()).watchlist=0,Ke.put("movies",f),n.label=12;case 12:return d++,[3,10];case 13:return[2]}}))}))()}},{key:"resync_movie_watch_list",value:function(){return t((function(){return n(this,(function(e){switch(e.label){case 0:return[4,Ke.clearMovieWatchlist()];case 1:return e.sent(),We.get_movie_watch_list(),[2]}}))}))()}},{key:"refresh_movies",value:function(){return t((function(){return n(this,(function(e){switch(e.label){case 0:return[4,Ke.getAllMovieIDs()];case 1:return e.sent().map((function(e){We.get_movie(e)})),[2]}}))}))()}}]),e}()),Fe=s(484);self.skipWaiting(),self.addEventListener("activate",(()=>self.clients.claim()));var He,Qe=[{'revision':'f21f51d5d676828e19c1791926cbe04f','url':'/_next/static/5hys1dWQhvrkuDWCunW7g/_buildManifest.js'},{'revision':'b6652df95db52feb4daf4eca35380933','url':'/_next/static/5hys1dWQhvrkuDWCunW7g/_ssgManifest.js'},{'revision':'6e5ac4605784164a','url':'/_next/static/chunks/807-6e5ac4605784164a.js'},{'revision':'91d7894390d3853b','url':'/_next/static/chunks/866.91d7894390d3853b.js'},{'revision':'a8419dbe1ed2e90b','url':'/_next/static/chunks/921-a8419dbe1ed2e90b.js'},{'revision':'ad8750d6c45b2dda','url':'/_next/static/chunks/950-ad8750d6c45b2dda.js'},{'revision':'4556c45dd113b893','url':'/_next/static/chunks/framework-4556c45dd113b893.js'},{'revision':'d556c35fcfa2320f','url':'/_next/static/chunks/main-d556c35fcfa2320f.js'},{'revision':'bc39326986bed49b','url':'/_next/static/chunks/pages/_app-bc39326986bed49b.js'},{'revision':'a4ba2246ff8fb532','url':'/_next/static/chunks/pages/_error-a4ba2246ff8fb532.js'},{'revision':'93558847d0596b0a','url':'/_next/static/chunks/pages/fallback-93558847d0596b0a.js'},{'revision':'b64c5318113dd7bb','url':'/_next/static/chunks/pages/index-b64c5318113dd7bb.js'},{'revision':'4e4b17407bbce901','url':'/_next/static/chunks/pages/lists-4e4b17407bbce901.js'},{'revision':'1a38ba95cd6ede1e','url':'/_next/static/chunks/pages/me-1a38ba95cd6ede1e.js'},{'revision':'8dc15d0620ec1fb2','url':'/_next/static/chunks/pages/upcoming-movies-8dc15d0620ec1fb2.js'},{'revision':'837c0df77fd5009c9e46d446188ecfd0','url':'/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js'},{'revision':'7022c7845ea77b79','url':'/_next/static/chunks/webpack-7022c7845ea77b79.js'},{'revision':'502ca29f817a07a2','url':'/_next/static/css/502ca29f817a07a2.css'},{'revision':'5f9e932f05bb24c4','url':'/_next/static/css/5f9e932f05bb24c4.css'},{'revision':'980474d06845251e','url':'/_next/static/css/980474d06845251e.css'},{'revision':'7c6bf90dad0eb944a643a51216738082','url':'/favicon.ico'},{'revision':'58b1459dd15ecd7e4e4c5b30ec6f72b1','url':'/icon-192x192.png'},{'revision':'f785940275fbc4d325353306b7fde674','url':'/icon-256x256.png'},{'revision':'5f754684e317f57a2af16adb2e00b653','url':'/icon-384x384.png'},{'revision':'3bcc2fba46a774ae51020918828ef92f','url':'/icon-512x512.png'},{'revision':'b0e04eeb1200a3428067ef64645d11a8','url':'/manifest.json'},{'revision':'c7e3b9ad2afc19035cc3b2520933cc07','url':'/netliheart.svg'},{'revision':'c8d5c8a3880fcf4bb3e55bb4cbecb838','url':'/sw.js'}];Qe.push({url:"/fallback",revision:"1234567893"}),function(e){ue().precache(e)}(Qe),function(e){const t=ue();se(new le(t,e))}(He);var Ge=new be("apiRequestQueue");self.addEventListener("activate",(e=>{const t=u();e.waitUntil((async(e,t="-precache-")=>{const s=(await self.caches.keys()).filter((s=>s.includes(t)&&s.includes(self.registration.scope)&&s!==e));return await Promise.all(s.map((e=>self.caches.delete(e)))),s})(t).then((e=>{})))})),self.addEventListener("sync",(function(e){qe.log("SW:sync:".concat(e.target,":").concat(e.type,":").concat(e.tag))})),self.addEventListener("periodicsync",(function(e){qe.log("SW:periodicsync:".concat(e.target,":").concat(e.type,":").concat(e.tag))})),self.addEventListener("fetch",(function(e){if(!e.request.url.endsWith("logs")){qe.log("SW:fetch:".concat(e.target,":").concat(e.type,":").concat(e.request.url));var s=function(){var s=t((function(){var t;return n(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,4]),[4,fetch(e.request.clone())];case 1:return[2,s.sent()];case 2:return t=s.sent(),qe.log("SW:fetch:queue:".concat(e.target,":").concat(e.type,":").concat(e.request.url)),[4,Ge.pushRequest({request:e.request})];case 3:return s.sent(),[2,t];case 4:return[2]}}))}));return function(){return s.apply(this,arguments)}}();e.respondWith(s())}})),self.addEventListener("activate",(function(e){console.log("SW:activate"),We.refresh_movies();var t=Fe();We.get(t.month()),We.resync_movie_watch_list()}));var Ye,Ve=new class{constructor(e,t){this.fetchDidFail=async({request:e})=>{await this._queue.pushRequest({request:e})},this._queue=new be(e,t)}}("movieUpdates",{maxRetentionTime:1440});se("/",new Y({cacheName:"start-url",plugins:[new W({maxEntries:1,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),se(/^https:\/\/fonts\.(?:googleapis|gstatic)\.com\/.*/i,new class extends Q{async _handle(e,t){let s,n=await t.cacheMatch(e);if(n)0;else{0;try{n=await t.fetchAndCachePut(e)}catch(r){r instanceof Error&&(s=r)}0}if(!n)throw new a("no-response",{url:e.url,error:s});return n}}({cacheName:"google-fonts",plugins:[new W({maxEntries:4,maxAgeSeconds:31536e3,purgeOnQuotaError:!0})]}),"GET"),se(/\.(?:eot|otf|ttc|ttf|woff|woff2|font.css)$/i,new V({cacheName:"static-font-assets",plugins:[new W({maxEntries:4,maxAgeSeconds:604800,purgeOnQuotaError:!0})]}),"GET"),se(/\.(?:jpg|jpeg|gif|png|svg|ico|webp)$/i,new class extends Q{constructor(e={}){super(e),this._networkTimeoutSeconds=e.networkTimeoutSeconds||0}async _handle(e,t){let s,n;try{const s=[t.fetch(e)];if(this._networkTimeoutSeconds){const e=y(1e3*this._networkTimeoutSeconds);s.push(e)}if(n=await Promise.race(s),!n)throw new Error(`Timed out the network response after ${this._networkTimeoutSeconds} seconds.`)}catch(r){r instanceof Error&&(s=r)}if(!n)throw new a("no-response",{url:e.url,error:s});return n}}({cacheName:"static-image-assets",plugins:[new W({maxEntries:64,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),se(/\.(?:js)$/i,new V({cacheName:"static-js-assets",plugins:[new W({maxEntries:32,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),se(/\.(?:css|less)$/i,new V({cacheName:"static-style-assets",plugins:[new W({maxEntries:32,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),se(/\.(?:json|xml|csv)$/i,new Y({cacheName:"static-data-assets",plugins:[new W({maxEntries:32,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),se(/\/api\/.*$/i,new V({cacheName:"apis",networkTimeoutSeconds:10,plugins:[Ve,new W({maxEntries:500,maxAgeSeconds:86400,purgeOnQuotaError:!0}),new class{constructor(e){this.cacheWillUpdate=async({response:e})=>this._cacheableResponse.isResponseCacheable(e)?e:null,this._cacheableResponse=new Se(e)}}({statuses:[200]})]}),"GET"),se(/.*/i,new Y({cacheName:"others",networkTimeoutSeconds:10,plugins:[new W({maxEntries:32,maxAgeSeconds:86400,purgeOnQuotaError:!0})]}),"GET"),Ye=new V,te().setDefaultHandler(Ye),function(e){te().setCatchHandler(e)}((function(e){var t=e.event;switch(t.request.destination){case"document":return qe.log("SW: document - ".concat(JSON.stringify(t))),he("/fallback");case"image":return qe.log("SW: image- ".concat(JSON.stringify(t))),he("/static/images/fallback.png");case"font":qe.log("SW: font - ".concat(JSON.stringify(t)));break;default:return qe.log("SW: default - ".concat(JSON.stringify(t))),Response.error()}}))}()}();